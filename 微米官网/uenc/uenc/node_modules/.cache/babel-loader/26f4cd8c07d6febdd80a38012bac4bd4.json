{"remainingRequest":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\babel-loader\\lib\\index.js!D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\src\\components\\pc\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\src\\components\\pc\\Login.vue","mtime":1623717594309},{"path":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1623717554021},{"path":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\babel-loader\\lib\\index.js","mtime":1623717553223},{"path":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1623717554021},{"path":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\vue-loader\\lib\\index.js","mtime":1623717591153}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"D:/weimi/Micron-official-website/\\u5FAE\\u7C73\\u5B98\\u7F51/uenc/uenc/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"D:/weimi/Micron-official-website/\\u5FAE\\u7C73\\u5B98\\u7F51/uenc/uenc/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"D:/weimi/Micron-official-website/\\u5FAE\\u7C73\\u5B98\\u7F51/uenc/uenc/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\n\nvar _watch$data$watch$met;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar RegisteredForm = function RegisteredForm() {\n  _classCallCheck(this, RegisteredForm);\n\n  this.loginName = \"\";\n  this.email = \"\";\n  this.phonenumber = \"\";\n  this.password = \"\";\n  this.arginPassword = \"\";\n  this.code = \"\"; // this.autoLogin = false;\n};\n\nvar LoginForm = function LoginForm() {\n  _classCallCheck(this, LoginForm);\n\n  this.loginName = \"\";\n  this.password = \"\";\n  this.code = \"\";\n  this.autoLogin = false;\n};\n\nvar UpdatePwdForm = function UpdatePwdForm() {\n  _classCallCheck(this, UpdatePwdForm);\n\n  this.phonenumber = \"\";\n  this.password = \"\";\n  this.code = \"\";\n  this.arginPassword = \"\";\n};\n\nimport { GetCode, Registered, GetCaptchaImage, Login, UpdatePwd } from \"@/assets/server/api.js\";\nexport default (_watch$data$watch$met = {\n  watch: {\n    type: function type(newValue, oldValue) {\n      this.$refs[\"updatePwd\"].resetFields();\n      this.$refs[\"register\"].resetFields();\n      this.$refs[\"login\"].resetFields();\n    }\n  },\n  data: function data() {\n    return {\n      type: \"login\",\n      loginForm: new LoginForm(),\n      registeredForm: new RegisteredForm(),\n      updatePwdForm: new UpdatePwdForm(),\n      isForget: false,\n      imgSrc: \"\",\n      LoginRule: {\n        loginName: [{\n          required: true,\n          message: this.$t(\"index.switch\") === \"cn\" ? \"请输入登录名\" : \"Please enter your login name\",\n          trigger: \"blur\"\n        }],\n        password: [{\n          required: true,\n          pattern: /^(\\w){6,20}$/,\n          message: this.$t(\"index.switch\") === \"cn\" ? \"密码格式不对\" : \"Incorrect password format\",\n          trigger: \"blur\"\n        }],\n        code: [{\n          required: true,\n          message: this.$t(\"index.switch\") === \"cn\" ? \"请输入验证码\" : \"Please enter your verification code\",\n          trigger: \"blur\"\n        }]\n      },\n      RegisteredRule: {\n        loginName: [{\n          required: true,\n          message: this.$t(\"index.switch\") === \"cn\" ? \"请输入登录名\" : \"Please enter your login name\",\n          trigger: \"blur\"\n        }],\n        phonenumber: [{\n          required: true,\n          message: this.$t(\"index.switch\") === \"cn\" ? \"请输入正确的手机号\" : \"Please input the correct mobile phone number\",\n          trigger: \"blur\",\n          pattern: /^1[3|4|5|7|8][0-9]\\d{8}$/\n        }],\n        code: [{\n          required: true,\n          message: this.$t(\"index.switch\") === \"cn\" ? \"请输入验证码\" : \"Please enter your verification code\",\n          trigger: \"blur\"\n        }],\n        email: [{\n          required: true,\n          message: this.$t(\"index.switch\") === \"cn\" ? \"请输入正确的邮箱格式\" : \"Please enter the correct email format\",\n          trigger: \"blur\",\n          pattern: /\\w+@[a-z0-9]+\\.[a-z]{2,4}/\n        }],\n        password: [{\n          required: true,\n          pattern: /^(\\w){6,20}$/,\n          message: this.$t(\"index.switch\") === \"cn\" ? \"密码格式不对\" : \"Incorrect password format\",\n          trigger: \"blur\"\n        }],\n        arginPassword: [{\n          required: true,\n          pattern: /^(\\w){6,20}$/,\n          message: this.$t(\"index.switch\") === \"cn\" ? \"密码格式不对\" : \"Incorrect password format\",\n          trigger: \"blur\"\n        }]\n      },\n      UpdatePwdRule: {\n        phonenumber: [{\n          required: true,\n          message: this.$t(\"index.switch\") === \"cn\" ? \"请输入登录名\" : \"Please enter your login name\",\n          trigger: \"blur\",\n          pattern: /^1[3|4|5|7|8][0-9]\\d{8}$/\n        }],\n        password: [{\n          required: true,\n          pattern: /^(\\w){6,20}$/,\n          message: this.$t(\"index.switch\") === \"cn\" ? \"密码格式不对\" : \"Incorrect password format\",\n          trigger: \"blur\"\n        }],\n        arginPassword: [{\n          required: true,\n          pattern: /^(\\w){6,20}$/,\n          message: this.$t(\"index.switch\") === \"cn\" ? \"密码格式不对\" : \"Incorrect password format\",\n          trigger: \"blur\"\n        }],\n        code: [{\n          required: true,\n          message: this.$t(\"index.switch\") === \"cn\" ? \"请输入验证码\" : \"Please enter your verification code\",\n          trigger: \"blur\"\n        }]\n      },\n      count: 60,\n      timer: null\n    };\n  }\n}, _defineProperty(_watch$data$watch$met, \"watch\", {\n  type: function type(newValue, oldValue) {\n    clearInterval(this.timer);\n    this.timer = null;\n    this.count = 60;\n  }\n}), _defineProperty(_watch$data$watch$met, \"methods\", {\n  onSubmit: function () {\n    var _onSubmit = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(type) {\n      var _this = this;\n\n      var reg, str, data;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              reg = /^1[3|4|5|7|8][0-9]\\d{8}$/;\n\n              if (!(!reg.test(this[type].phonenumber) || this[type].phonenumber === \"\")) {\n                _context.next = 3;\n                break;\n              }\n\n              return _context.abrupt(\"return\", this.$message.warning(this.$t(\"index.switch\") === \"cn\" ? \"请输入正确手机号\" : \"enter the correct phone number\"));\n\n            case 3:\n              str = \"\";\n\n              if (type === \"registeredForm\") {\n                str = this[type].phonenumber + \"/reg\";\n              } else {\n                str = this[type].phonenumber + \"/pwd\";\n              }\n\n              _context.next = 7;\n              return GetCode(str);\n\n            case 7:\n              data = _context.sent;\n              this.timer = setInterval(function () {\n                _this.count--;\n\n                if (_this.count <= 0) {\n                  clearInterval(_this.timer);\n                  _this.timer = null;\n                  _this.count = 60;\n                }\n              }, 1000); // console.log(data, \"data\");\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function onSubmit(_x) {\n      return _onSubmit.apply(this, arguments);\n    }\n\n    return onSubmit;\n  }(),\n  onRegistered: function () {\n    var _onRegistered = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n      var _this2 = this;\n\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              this.$refs[\"register\"].validate( /*#__PURE__*/function () {\n                var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(valid) {\n                  var data;\n                  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          if (!valid) {\n                            _context2.next = 9;\n                            break;\n                          }\n\n                          if (!(_this2.registeredForm.password !== _this2.registeredForm.arginPassword)) {\n                            _context2.next = 3;\n                            break;\n                          }\n\n                          return _context2.abrupt(\"return\", _this2.$message.error(_this2.$t(\"index.switch\") === \"cn\" ? \"两次密码输入不一致\" : \"passwords do not match\"));\n\n                        case 3:\n                          _context2.next = 5;\n                          return Registered(_objectSpread({}, _this2.registeredForm));\n\n                        case 5:\n                          data = _context2.sent;\n\n                          if (data.code === 0) {\n                            _this2.$message.success(_this2.$t(\"index.switch\") === \"cn\" ? \"注册成功\" : \"success\");\n\n                            _this2.registeredForm = new RegisteredForm();\n                            _this2.count = 60;\n                            clearInterval(_this2.timer);\n                            _this2.timer = null;\n                          } else {\n                            _this2.$message.error(data.msg);\n                          }\n\n                          _context2.next = 10;\n                          break;\n\n                        case 9:\n                          return _context2.abrupt(\"return\", false);\n\n                        case 10:\n                        case \"end\":\n                          return _context2.stop();\n                      }\n                    }\n                  }, _callee2);\n                }));\n\n                return function (_x2) {\n                  return _ref.apply(this, arguments);\n                };\n              }());\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function onRegistered() {\n      return _onRegistered.apply(this, arguments);\n    }\n\n    return onRegistered;\n  }(),\n  getCaptchaImage: function () {\n    var _getCaptchaImage = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n      var data;\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return GetCaptchaImage();\n\n            case 2:\n              data = _context4.sent;\n              // console.log(data);\n              this.imgSrc = window.URL.createObjectURL(data.data); // console.log(this.imgSrc);\n\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    function getCaptchaImage() {\n      return _getCaptchaImage.apply(this, arguments);\n    }\n\n    return getCaptchaImage;\n  }(),\n  onLogin: function () {\n    var _onLogin = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n      var _this3 = this;\n\n      return regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              //       console.log(this.loginForm);\n              //       if(this.loginForm.code!==1){\n              // return false\n              //       }\n              this.$refs[\"login\"].validate( /*#__PURE__*/function () {\n                var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(valid) {\n                  var data;\n                  return regeneratorRuntime.wrap(function _callee5$(_context5) {\n                    while (1) {\n                      switch (_context5.prev = _context5.next) {\n                        case 0:\n                          if (!valid) {\n                            _context5.next = 7;\n                            break;\n                          }\n\n                          _context5.next = 3;\n                          return Login(_objectSpread({}, _this3.loginForm));\n\n                        case 3:\n                          data = _context5.sent;\n\n                          //  console.log(data);\n                          if (data.code === 0) {\n                            _this3.$message.success(_this3.$t(\"index.switch\") === \"cn\" ? \"登录成功！\" : \"success\");\n\n                            localStorage.setItem(\"username\", data.data);\n\n                            _this3.$emit(\"close\");\n\n                            _this3.$emit(\"showUserInfo\", data.data);\n\n                            _this3.$emit(\"checkUsersStatus\");\n\n                            _this3.loginForm = new LoginForm();\n                          } else {\n                            _this3.$message.error(data.msg);\n                          }\n\n                          _context5.next = 8;\n                          break;\n\n                        case 7:\n                          return _context5.abrupt(\"return\", false);\n\n                        case 8:\n                        case \"end\":\n                          return _context5.stop();\n                      }\n                    }\n                  }, _callee5);\n                }));\n\n                return function (_x3) {\n                  return _ref2.apply(this, arguments);\n                };\n              }());\n\n            case 1:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, this);\n    }));\n\n    function onLogin() {\n      return _onLogin.apply(this, arguments);\n    }\n\n    return onLogin;\n  }(),\n  onUpdatePwd: function () {\n    var _onUpdatePwd = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8() {\n      var _this4 = this;\n\n      return regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              this.$refs[\"updatePwd\"].validate( /*#__PURE__*/function () {\n                var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(valid) {\n                  var data;\n                  return regeneratorRuntime.wrap(function _callee7$(_context7) {\n                    while (1) {\n                      switch (_context7.prev = _context7.next) {\n                        case 0:\n                          if (!valid) {\n                            _context7.next = 9;\n                            break;\n                          }\n\n                          if (!(_this4.updatePwdForm.password !== _this4.updatePwdForm.arginPassword)) {\n                            _context7.next = 3;\n                            break;\n                          }\n\n                          return _context7.abrupt(\"return\", _this4.$message.error(_this4.$t(\"index.switch\") === \"cn\" ? \"两次密码输入不一致\" : \"passwords do not match\"));\n\n                        case 3:\n                          _context7.next = 5;\n                          return UpdatePwd(_objectSpread({}, _this4.updatePwdForm));\n\n                        case 5:\n                          data = _context7.sent;\n\n                          if (data.code === 0) {\n                            _this4.$message.success(_this4.$t(\"index.switch\") === \"cn\" ? \"密码修改成功，请登录！\" : \"success\");\n\n                            _this4.updatePwdForm = new UpdatePwdForm();\n                            _this4.count = 60;\n                            clearInterval(_this4.timer);\n                            _this4.timer = null;\n                          } else {\n                            _this4.$message.error(data.msg);\n                          }\n\n                          _context7.next = 10;\n                          break;\n\n                        case 9:\n                          return _context7.abrupt(\"return\", false);\n\n                        case 10:\n                        case \"end\":\n                          return _context7.stop();\n                      }\n                    }\n                  }, _callee7);\n                }));\n\n                return function (_x4) {\n                  return _ref3.apply(this, arguments);\n                };\n              }());\n\n            case 1:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8, this);\n    }));\n\n    function onUpdatePwd() {\n      return _onUpdatePwd.apply(this, arguments);\n    }\n\n    return onUpdatePwd;\n  }()\n}), _watch$data$watch$met);",{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<!--\r\n * @Author: yaoyuting\r\n * @Date: 2021-04-16 08:54:18\r\n * @LastEditors: yaoyuting\r\n * @LastEditTime: 2021-05-18 21:29:40\r\n * @Descripttion: \r\n-->\r\n<template>\r\n  <div class=\"Login\">\r\n    <!-- <img class=\"logo\" src=\"@/assets/images/index/logo.png\" alt=\"\" /> -->\r\n    <p v-show=\"type === 'login'\" class=\"form_all_title\">\r\n      {{ $t(\"dialog.login\") }}\r\n    </p>\r\n    <p v-show=\"type === 'register'\" class=\"form_all_title\">\r\n      {{ $t(\"navbar.Register\") }}\r\n    </p>\r\n    <p v-show=\"type === 'password'\" class=\"form_all_title\">\r\n      {{ $t(\"dialog.Forgot\") }}\r\n    </p>\r\n    <el-form\r\n      :rules=\"LoginRule\"\r\n      ref=\"login\"\r\n      v-show=\"type === 'login'\"\r\n      :model=\"loginForm\"\r\n      class=\"demo-form-inline\"\r\n    >\r\n      <el-form-item label=\"\" prop=\"loginName\">\r\n        <el-input\r\n          v-model=\"loginForm.loginName\"\r\n          key=\"login1\"\r\n          :placeholder=\"$t('dialog.enteru')\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"\" prop=\"password\">\r\n        <el-input\r\n          v-model=\"loginForm.password\"\r\n          :placeholder=\"$t('dialog.enterpw')\"\r\n          type=\"password\"\r\n          key=\"login2\"\r\n          autocomplete=\"new-password\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"\" prop=\"code\">\r\n        <div class=\"between\">\r\n          <el-input\r\n            v-model=\"loginForm.code\"\r\n            key=\"login3\"\r\n            :placeholder=\"$t('dialog.code')\"\r\n          ></el-input>\r\n          <img :src=\"imgSrc\" alt=\"\" @click=\"getCaptchaImage\" />\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"onLogin\" class=\"submit\">{{\r\n          $t(\"dialog.login\")\r\n        }}</el-button>\r\n      </el-form-item>\r\n      <el-form-item label=\"\">\r\n        <div class=\"between\">\r\n          <div class=\"text\" @click=\"type = 'password'\">\r\n            {{ $t(\"dialog.Forgot\") }}\r\n          </div>\r\n          <!-- <el-checkbox-group v-model=\"loginForm.autoLogin\">\r\n            <el-checkbox :label=\"$t('dialog.auto')\" name=\"type\"></el-checkbox>\r\n          </el-checkbox-group> -->\r\n          <div class=\"text\" @click=\"type = 'register'\">\r\n            {{ $t(\"dialog.register\") }}<i class=\"el-icon-arrow-right\"></i>\r\n          </div>\r\n        </div>\r\n      </el-form-item>\r\n    </el-form>\r\n    <el-form\r\n      :rules=\"RegisteredRule\"\r\n      ref=\"register\"\r\n      v-show=\"type === 'register'\"\r\n      :model=\"registeredForm\"\r\n      class=\"demo-form-inline register_form\"\r\n    >\r\n      <el-form-item label=\"\" prop=\"loginName\">\r\n        <el-input\r\n          v-model=\"registeredForm.loginName\"\r\n          key=\"register1\"\r\n          :placeholder=\"$t('dialog.enteru')\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"\" prop=\"phonenumber\">\r\n        <el-input\r\n          v-model=\"registeredForm.phonenumber\"\r\n          :placeholder=\"$t('dialog.enterp')\"\r\n          key=\"register2\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"\" prop=\"code\">\r\n        <div class=\"between\">\r\n          <el-input\r\n            v-model=\"registeredForm.code\"\r\n            key=\"register3\"\r\n            :placeholder=\"$t('dialog.code')\"\r\n          ></el-input>\r\n          <div @click=\"onSubmit('registeredForm')\" class=\"code\">\r\n            {{ timer ? count + \"s\" : $t(\"dialog.sendc\") }}\r\n          </div>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item label=\"\" prop=\"email\">\r\n        <el-input\r\n          v-model=\"registeredForm.email\"\r\n          key=\"register4\"\r\n          :placeholder=\"$t('dialog.entere')\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"\" prop=\"password\">\r\n        <el-input\r\n          v-model=\"registeredForm.password\"\r\n          :placeholder=\"$t('dialog.enterpw')\"\r\n          type=\"password\"\r\n          key=\"register5\"\r\n          autocomplete=\"new-password\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"\" prop=\"arginPassword\">\r\n        <el-input\r\n          v-model=\"registeredForm.arginPassword\"\r\n          :placeholder=\"$t('dialog.enterap')\"\r\n          type=\"password\"\r\n          key=\"register5\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"onRegistered\" class=\"submit\">{{\r\n          $t(\"dialog.register\")\r\n        }}</el-button>\r\n      </el-form-item>\r\n      <!-- <el-form-item label=\"\">\r\n        <div class=\"between\">\r\n          <el-checkbox-group v-model=\"registeredForm.autoLogin\">\r\n            <el-checkbox\r\n              :label=\"$t('dialog.read')\"\r\n              name=\"type\"\r\n            ></el-checkbox>\r\n          </el-checkbox-group>\r\n        </div>\r\n      </el-form-item> -->\r\n      <div @click=\"type = 'login'\" class=\"back\">\r\n        {{ $t(\"dialog.back\") }}<i class=\"el-icon-arrow-right\"></i>\r\n      </div>\r\n    </el-form>\r\n    <div class=\"div\" v-show=\"type === 'password'\">\r\n      <el-form\r\n        :rules=\"UpdatePwdRule\"\r\n        ref=\"updatePwd\"\r\n        :model=\"updatePwdForm\"\r\n        class=\"demo-form-inline\"\r\n      >\r\n        <el-form-item label=\"\" prop=\"phonenumber\">\r\n          <el-input\r\n            v-model=\"updatePwdForm.phonenumber\"\r\n            :placeholder=\"$t('dialog.enterp')\"\r\n            key=\"updatePwd1\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"\" prop=\"code\">\r\n          <div class=\"between\">\r\n            <el-input\r\n              v-model=\"updatePwdForm.code\"\r\n              key=\"updatePwd2\"\r\n              :placeholder=\"$t('dialog.code')\"\r\n            ></el-input>\r\n            <div @click=\"onSubmit('updatePwdForm')\" class=\"code\">\r\n              {{ timer ? count + \"s\" : $t(\"dialog.sendc\") }}\r\n            </div>\r\n          </div>\r\n        </el-form-item>\r\n        <el-form-item label=\"\" prop=\"password\">\r\n          <el-input\r\n            v-model=\"updatePwdForm.password\"\r\n            type=\"password\"\r\n            :placeholder=\"$t('dialog.enterpw')\"\r\n            key=\"updatePwd3\"\r\n            autocomplete=\"new-password\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"\" prop=\"arginPassword\">\r\n          <el-input\r\n            v-model=\"updatePwdForm.arginPassword\"\r\n            type=\"password\"\r\n            :placeholder=\"$t('dialog.enterap')\"\r\n            key=\"updatePwd4\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"onUpdatePwd\" class=\"submit\">{{\r\n            $t(\"dialog.confirm\")\r\n          }}</el-button>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <div @click=\"type = 'login'\" class=\"back\">\r\n            {{ $t(\"dialog.back\") }}\r\n          </div>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nclass RegisteredForm {\r\n  constructor() {\r\n    this.loginName = \"\";\r\n    this.email = \"\";\r\n    this.phonenumber = \"\";\r\n    this.password = \"\";\r\n    this.arginPassword = \"\";\r\n    this.code = \"\";\r\n    // this.autoLogin = false;\r\n  }\r\n}\r\nclass LoginForm {\r\n  constructor() {\r\n    this.loginName = \"\";\r\n    this.password = \"\";\r\n    this.code = \"\";\r\n    this.autoLogin = false;\r\n  }\r\n}\r\nclass UpdatePwdForm {\r\n  constructor() {\r\n    this.phonenumber = \"\";\r\n    this.password = \"\";\r\n    this.code = \"\";\r\n    this.arginPassword = \"\";\r\n  }\r\n}\r\n\r\nimport {\r\n  GetCode,\r\n  Registered,\r\n  GetCaptchaImage,\r\n  Login,\r\n  UpdatePwd,\r\n} from \"@/assets/server/api.js\";\r\nexport default {\r\n  watch: {\r\n    type(newValue, oldValue) {\r\n      this.$refs[\"updatePwd\"].resetFields();\r\n      this.$refs[\"register\"].resetFields();\r\n      this.$refs[\"login\"].resetFields();\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      type: \"login\",\r\n      loginForm: new LoginForm(),\r\n      registeredForm: new RegisteredForm(),\r\n      updatePwdForm: new UpdatePwdForm(),\r\n      isForget: false,\r\n      imgSrc: \"\",\r\n      LoginRule: {\r\n        loginName: [\r\n          {\r\n            required: true,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"请输入登录名\"\r\n                : \"Please enter your login name\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        password: [\r\n          {\r\n            required: true,\r\n            pattern: /^(\\w){6,20}$/,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"密码格式不对\"\r\n                : \"Incorrect password format\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        code: [\r\n          {\r\n            required: true,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"请输入验证码\"\r\n                : \"Please enter your verification code\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n      },\r\n      RegisteredRule: {\r\n        loginName: [\r\n          {\r\n            required: true,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"请输入登录名\"\r\n                : \"Please enter your login name\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        phonenumber: [\r\n          {\r\n            required: true,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"请输入正确的手机号\"\r\n                : \"Please input the correct mobile phone number\",\r\n            trigger: \"blur\",\r\n            pattern: /^1[3|4|5|7|8][0-9]\\d{8}$/,\r\n          },\r\n        ],\r\n        code: [\r\n          {\r\n            required: true,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"请输入验证码\"\r\n                : \"Please enter your verification code\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        email: [\r\n          {\r\n            required: true,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"请输入正确的邮箱格式\"\r\n                : \"Please enter the correct email format\",\r\n            trigger: \"blur\",\r\n            pattern: /\\w+@[a-z0-9]+\\.[a-z]{2,4}/,\r\n          },\r\n        ],\r\n\r\n        password: [\r\n          {\r\n            required: true,\r\n            pattern: /^(\\w){6,20}$/,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"密码格式不对\"\r\n                : \"Incorrect password format\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        arginPassword: [\r\n          {\r\n            required: true,\r\n            pattern: /^(\\w){6,20}$/,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"密码格式不对\"\r\n                : \"Incorrect password format\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n      },\r\n      UpdatePwdRule: {\r\n        phonenumber: [\r\n          {\r\n            required: true,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"请输入登录名\"\r\n                : \"Please enter your login name\",\r\n            trigger: \"blur\",\r\n            pattern: /^1[3|4|5|7|8][0-9]\\d{8}$/,\r\n          },\r\n        ],\r\n        password: [\r\n          {\r\n            required: true,\r\n            pattern: /^(\\w){6,20}$/,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"密码格式不对\"\r\n                : \"Incorrect password format\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        arginPassword: [\r\n          {\r\n            required: true,\r\n            pattern: /^(\\w){6,20}$/,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"密码格式不对\"\r\n                : \"Incorrect password format\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        code: [\r\n          {\r\n            required: true,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"请输入验证码\"\r\n                : \"Please enter your verification code\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n      },\r\n      count: 60,\r\n      timer: null,\r\n    };\r\n  },\r\n  // created(){ this.$emit(\"checkUsersStatus\");},\r\n  watch: {\r\n    type(newValue, oldValue) {\r\n      clearInterval(this.timer);\r\n      this.timer = null;\r\n      this.count = 60;\r\n    },\r\n  },\r\n  methods: {\r\n    async onSubmit(type) {\r\n      let reg = /^1[3|4|5|7|8][0-9]\\d{8}$/;\r\n      if (!reg.test(this[type].phonenumber) || this[type].phonenumber === \"\") {\r\n        return this.$message.warning(\r\n          this.$t(\"index.switch\") === \"cn\"\r\n            ? \"请输入正确手机号\"\r\n            : \"enter the correct phone number\"\r\n        );\r\n      }\r\n      let str = \"\";\r\n      if (type === \"registeredForm\") {\r\n        str = this[type].phonenumber + \"/reg\";\r\n      } else {\r\n        str = this[type].phonenumber + \"/pwd\";\r\n      }\r\n      const data = await GetCode(str);\r\n\r\n      this.timer = setInterval(() => {\r\n        this.count--;\r\n        if (this.count <= 0) {\r\n          clearInterval(this.timer);\r\n          this.timer = null;\r\n          this.count = 60;\r\n        }\r\n      }, 1000);\r\n      // console.log(data, \"data\");\r\n    },\r\n    async onRegistered() {\r\n      this.$refs[\"register\"].validate(async (valid) => {\r\n        if (valid) {\r\n          if (\r\n            this.registeredForm.password !== this.registeredForm.arginPassword\r\n          ) {\r\n            return this.$message.error(\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"两次密码输入不一致\"\r\n                : \"passwords do not match\"\r\n            );\r\n          }\r\n          const data = await Registered({ ...this.registeredForm });\r\n          if (data.code === 0) {\r\n            this.$message.success(\r\n              this.$t(\"index.switch\") === \"cn\" ? \"注册成功\" : \"success\"\r\n            );\r\n            this.registeredForm = new RegisteredForm();\r\n            this.count = 60;\r\n            clearInterval(this.timer);\r\n            this.timer = null;\r\n          } else {\r\n            this.$message.error(data.msg);\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    async getCaptchaImage() {\r\n      const data = await GetCaptchaImage();\r\n      // console.log(data);\r\n      this.imgSrc = window.URL.createObjectURL(data.data);\r\n      // console.log(this.imgSrc);\r\n    },\r\n    async onLogin() {\r\n      //       console.log(this.loginForm);\r\n      //       if(this.loginForm.code!==1){\r\n      // return false\r\n      //       }\r\n      this.$refs[\"login\"].validate(async (valid) => {\r\n        if (valid) {\r\n          const data = await Login({ ...this.loginForm });\r\n          //  console.log(data);\r\n          if (data.code === 0) {\r\n            this.$message.success(\r\n              this.$t(\"index.switch\") === \"cn\" ? \"登录成功！\" : \"success\"\r\n            );\r\n            localStorage.setItem(\"username\", data.data);\r\n\r\n            this.$emit(\"close\");\r\n            this.$emit(\"showUserInfo\", data.data);\r\n            this.$emit(\"checkUsersStatus\");\r\n            this.loginForm = new LoginForm();\r\n          } else {\r\n            this.$message.error(data.msg);\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    async onUpdatePwd() {\r\n      this.$refs[\"updatePwd\"].validate(async (valid) => {\r\n        if (valid) {\r\n          if (\r\n            this.updatePwdForm.password !== this.updatePwdForm.arginPassword\r\n          ) {\r\n            return this.$message.error(\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"两次密码输入不一致\"\r\n                : \"passwords do not match\"\r\n            );\r\n          }\r\n          const data = await UpdatePwd({ ...this.updatePwdForm });\r\n          if (data.code === 0) {\r\n            this.$message.success(\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"密码修改成功，请登录！\"\r\n                : \"success\"\r\n            );\r\n            this.updatePwdForm = new UpdatePwdForm();\r\n            this.count = 60;\r\n            clearInterval(this.timer);\r\n            this.timer = null;\r\n          } else {\r\n            this.$message.error(data.msg);\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\">\r\n.form_all_title {\r\n  font-size: 24px;\r\n  font-family: Microsoft YaHei;\r\n  font-weight: bold;\r\n  line-height: 31px;\r\n  color: #313131;\r\n  opacity: 1;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.register_form {\r\n  button {\r\n    height: 50px !important;\r\n    background: #5432f4 !important;\r\n    opacity: 1;\r\n    border-radius: 4px;\r\n    margin-top: 15px !important;\r\n    font-size: 20px !important;\r\n    font-family: Microsoft YaHei;\r\n    font-weight: 400;\r\n    line-height: 26px;\r\n    color: #ffffff;\r\n    opacity: 1;\r\n  }\r\n  .code {\r\n    font-size: 18px;\r\n    font-family: Microsoft YaHei;\r\n    font-weight: 400;\r\n    line-height: 24px;\r\n    color: #4d26d7;\r\n    opacity: 1;\r\n  }\r\n  // height:70vh;\r\n  .el-form-item {\r\n    margin-bottom: 15px;\r\n  }\r\n  .el-input {\r\n    height: 40px;\r\n    input::-webkit-input-placeholder {\r\n      font-size: 18px;\r\n    }\r\n\r\n    input {\r\n      height: 40px;\r\n      font-size: 18px;\r\n      font-family: Microsoft YaHei;\r\n      font-weight: 400;\r\n      line-height: 24px;\r\n      color: #999999;\r\n      opacity: 1;\r\n    }\r\n  }\r\n\r\n  //  overflow-y: scroll;\r\n}\r\n.Login {\r\n  .el-input__inner,\r\n  input {\r\n    height: 40px;\r\n    font-size: 18px;\r\n    font-family: Microsoft YaHei;\r\n    font-weight: 400;\r\n    line-height: 24px;\r\n    color: #999999;\r\n    opacity: 1;\r\n  }\r\n  input::placeholder {\r\n    font-size: 18px;\r\n  }\r\n  .el-checkbox__inner {\r\n    width: 22px;\r\n    height: 22px;\r\n  }\r\n  .el-checkbox__input {\r\n    vertical-align: sub;\r\n  }\r\n  .el-checkbox__inner::after {\r\n    height: 14px;\r\n    left: 6px;\r\n    width: 6px;\r\n    top: 0px;\r\n  }\r\n  .el-checkbox__label {\r\n    font-size: 16px;\r\n  }\r\n}\r\n</style>\r\n<style lang=\"less\" scoped>\r\n.Login {\r\n  text-align: center;\r\n  .logo {\r\n    height: 90px;\r\n    margin: 36px auto;\r\n  }\r\n  .el-button {\r\n    height: 50px;\r\n    background: #5432f4;\r\n\r\n    border-radius: 15px;\r\n    font-size: 20px;\r\n    font-family: Microsoft YaHei;\r\n    font-weight: 400;\r\n    line-height: 26px;\r\n    color: #ffffff;\r\n  }\r\n}\r\n.el-tabs__item.is-active {\r\n  font-size: 20px;\r\n}\r\n.submit {\r\n  width: 100%;\r\n  margin-top: 22px;\r\n}\r\n.back {\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  font-family: PingFangSC-Regular;\r\n  line-height: 21px;\r\n  color: #4c67ef;\r\n  opacity: 1;\r\n  text-align: right;\r\n}\r\n.between {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  font-size: 24px;\r\n\r\n  .text {\r\n    color: #4c67ef;\r\n    cursor: pointer;\r\n    font-size: 16px;\r\n  }\r\n  .forget {\r\n    color: #ccc;\r\n    cursor: pointer;\r\n    font-size: 16px;\r\n  }\r\n  img {\r\n    height: 41px;\r\n    width: 110px;\r\n    margin-left: 10px;\r\n    cursor: pointer;\r\n  }\r\n  .code {\r\n    margin-left: 15px;\r\n    margin-right: 10px;\r\n    width: 150px;\r\n    height: 24px;\r\n    font-size: 18px;\r\n    font-family: Microsoft YaHei;\r\n    font-weight: 400;\r\n    line-height: 40px;\r\n    // color: #305bbc;\r\n    // font-size: 28px;\r\n    color: #4d26d7;\r\n    cursor: pointer;\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/pc"}]}