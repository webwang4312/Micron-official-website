{"remainingRequest":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\babel-loader\\lib\\index.js!D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\src\\components\\m\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\src\\components\\m\\Login.vue","mtime":1623717594298},{"path":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1623717554021},{"path":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\babel-loader\\lib\\index.js","mtime":1623717553223},{"path":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1623717554021},{"path":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\vue-loader\\lib\\index.js","mtime":1623717591153}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"D:/weimi/Micron-official-website/\\u5FAE\\u7C73\\u5B98\\u7F51/uenc/uenc/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"D:/weimi/Micron-official-website/\\u5FAE\\u7C73\\u5B98\\u7F51/uenc/uenc/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"D:/weimi/Micron-official-website/\\u5FAE\\u7C73\\u5B98\\u7F51/uenc/uenc/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar LoginForm = function LoginForm() {\n  _classCallCheck(this, LoginForm);\n\n  this.loginName = \"\";\n  this.password = \"\";\n  this.code = \"\";\n  this.autoLogin = false;\n};\n\nvar RegisteredForm = function RegisteredForm() {\n  _classCallCheck(this, RegisteredForm);\n\n  this.loginName = \"\";\n  this.email = \"\";\n  this.phonenumber = \"\";\n  this.password = \"\";\n  this.arginPassword = \"\";\n  this.code = \"\"; // this.autoLogin = false;\n};\n\nvar UpdatePwdForm = function UpdatePwdForm() {\n  _classCallCheck(this, UpdatePwdForm);\n\n  this.phonenumber = \"\";\n  this.password = \"\";\n  this.code = \"\";\n  this.arginPassword = \"\";\n};\n\nimport { Registered, GetCaptchaImage, Login, UpdatePwd, GetCode } from \"@/assets/server/api.js\";\nexport default {\n  data: function data() {\n    var _updatePwdRule;\n\n    return {\n      activeName: \"\",\n      loginForm: new LoginForm(),\n      registeredForm: new RegisteredForm(),\n      updatePwdForm: new UpdatePwdForm(),\n      isForget: false,\n      imgSrc: \"\",\n      loginRule: {\n        loginName: [{\n          required: true,\n          message: this.$t(\"index.switch\") === \"cn\" ? \"请输入登录名\" : \"enter your login name\",\n          trigger: \"blur\"\n        }],\n        password: [{\n          required: true,\n          pattern: /^(\\w){6,20}$/,\n          message: this.$t(\"index.switch\") === \"cn\" ? \"密码格式不对\" : \"Incorrect password format\",\n          trigger: \"blur\"\n        }],\n        code: [{\n          required: true,\n          message: this.$t(\"index.switch\") === \"cn\" ? \"请输入验证码\" : \"enter your verification code\",\n          trigger: \"blur\"\n        }]\n      },\n      registeredRule: {\n        loginName: [{\n          required: true,\n          message: this.$t(\"index.switch\") === \"cn\" ? \"请输入登录名\" : \"enter your login name\",\n          trigger: \"blur\"\n        }],\n        email: [{\n          required: true,\n          message: this.$t(\"index.switch\") === \"cn\" ? \"请输入正确的邮箱格式\" : \"enter the correct email format\",\n          trigger: \"blur\",\n          pattern: /\\w+@[a-z0-9]+\\.[a-z]{2,4}/\n        }],\n        phonenumber: [{\n          required: true,\n          message: this.$t(\"index.switch\") === \"cn\" ? \"请输入正确的手机号\" : \"input the correct mobile phone\",\n          trigger: \"blur\",\n          pattern: /^1[3|4|5|7|8][0-9]\\d{8}$/\n        }],\n        password: [{\n          required: true,\n          pattern: /^(\\w){6,20}$/,\n          message: this.$t(\"index.switch\") === \"cn\" ? \"密码格式不对\" : \"Incorrect password format\",\n          trigger: \"blur\"\n        }],\n        arginPassword: [{\n          required: true,\n          pattern: /^(\\w){6,20}$/,\n          message: this.$t(\"index.switch\") === \"cn\" ? \"密码格式不对\" : \"Incorrect password format\",\n          trigger: \"blur\"\n        }],\n        code: [{\n          required: true,\n          message: this.$t(\"index.switch\") === \"cn\" ? \"请输入验证码\" : \"enter your verification code\",\n          trigger: \"blur\"\n        }]\n      },\n      updatePwdRule: (_updatePwdRule = {\n        phonenumber: [{\n          required: true,\n          message: this.$t(\"index.switch\") === \"cn\" ? \"请输入登录名\" : \"enter your login name\",\n          trigger: \"blur\",\n          pattern: /^1[3|4|5|7|8][0-9]\\d{8}$/\n        }],\n        password: [{\n          required: true,\n          pattern: /^(\\w){6,20}$/,\n          message: this.$t(\"index.switch\") === \"cn\" ? \"密码格式不对\" : \"Incorrect password format\",\n          trigger: \"blur\"\n        }]\n      }, _defineProperty(_updatePwdRule, \"password\", [{\n        required: true,\n        pattern: /^(\\w){6,20}$/,\n        message: this.$t(\"index.switch\") === \"cn\" ? \"密码格式不对\" : \"Incorrect password format\",\n        trigger: \"blur\"\n      }]), _defineProperty(_updatePwdRule, \"code\", [{\n        required: true,\n        message: this.$t(\"index.switch\") === \"cn\" ? \"请输入验证码\" : \"enter your verification code\",\n        trigger: \"blur\"\n      }]), _updatePwdRule),\n      count: 60,\n      timer: null\n    };\n  },\n  props: {\n    dialogType: {\n      type: String,\n      default: \"\"\n    }\n  },\n  watch: {\n    dialogType: function dialogType(newValue, oldValue) {\n      this.activeName = newValue;\n    },\n    activeName: function activeName(newValue, oldValue) {\n      clearInterval(this.timer);\n      this.timer = null;\n      this.count = 60;\n    }\n  },\n  created: function created() {\n    this.getCaptchaImage();\n    this.activeName = this.dialogType;\n  },\n  methods: {\n    onSubmit: function () {\n      var _onSubmit = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(type) {\n        var _this = this;\n\n        var reg, str, data;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                reg = /^1[3|4|5|7|8][0-9]\\d{8}$/;\n\n                if (!(!reg.test(this[type].phonenumber) || this[type].phonenumber === \"\")) {\n                  _context.next = 3;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", this.$notify({\n                  type: \"warning\",\n                  message: this.$t(\"index.switch\") === \"cn\" ? \"请输入正确手机号\" : \"enter the correct phone number\"\n                }));\n\n              case 3:\n                str = '';\n\n                if (type === 'registeredForm') {\n                  str = this[type].phonenumber + '/reg';\n                } else {\n                  str = this[type].phonenumber + '/pwd';\n                }\n\n                _context.next = 7;\n                return GetCode(str);\n\n              case 7:\n                data = _context.sent;\n\n                if (!(data.code == '500')) {\n                  _context.next = 10;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", this.$notify({\n                  type: \"error\",\n                  message: data.msg\n                }));\n\n              case 10:\n                this.timer = setInterval(function () {\n                  _this.count--;\n\n                  if (_this.count <= 0) {\n                    clearInterval(_this.timer);\n                    _this.timer = null;\n                    _this.count = 60;\n                  }\n                }, 1000); // console.log(data, \"data\");\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function onSubmit(_x) {\n        return _onSubmit.apply(this, arguments);\n      }\n\n      return onSubmit;\n    }(),\n    onRegistered: function () {\n      var _onRegistered = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n        var _this2 = this;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.$refs[\"register\"].validate( /*#__PURE__*/function () {\n                  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(valid) {\n                    var data;\n                    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                      while (1) {\n                        switch (_context2.prev = _context2.next) {\n                          case 0:\n                            if (!valid) {\n                              _context2.next = 9;\n                              break;\n                            }\n\n                            if (!(_this2.registeredForm.password !== _this2.registeredForm.arginPassword)) {\n                              _context2.next = 3;\n                              break;\n                            }\n\n                            return _context2.abrupt(\"return\", _this2.$notify({\n                              type: \"error\",\n                              message: _this2.$t(\"index.switch\") === \"cn\" ? \"两次密码输入不一致\" : \"passwords do not match\"\n                            }));\n\n                          case 3:\n                            _context2.next = 5;\n                            return Registered(_objectSpread({}, _this2.registeredForm));\n\n                          case 5:\n                            data = _context2.sent;\n\n                            if (data.code === 0) {\n                              _this2.$notify({\n                                type: \"success\",\n                                message: _this2.$t(\"index.switch\") === \"cn\" ? \"注册成功\" : \"success\"\n                              });\n\n                              _this2.activeName = \"login\";\n                              _this2.registeredForm = new RegisteredForm();\n                              _this2.count = 60;\n                              clearInterval(_this2.timer);\n                              _this2.timer = null;\n                            } else {\n                              _this2.$notify({\n                                type: \"error\",\n                                message: data.msg\n                              });\n                            }\n\n                            _context2.next = 10;\n                            break;\n\n                          case 9:\n                            return _context2.abrupt(\"return\", false);\n\n                          case 10:\n                          case \"end\":\n                            return _context2.stop();\n                        }\n                      }\n                    }, _callee2);\n                  }));\n\n                  return function (_x2) {\n                    return _ref.apply(this, arguments);\n                  };\n                }());\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function onRegistered() {\n        return _onRegistered.apply(this, arguments);\n      }\n\n      return onRegistered;\n    }(),\n    getCaptchaImage: function () {\n      var _getCaptchaImage = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n        var data;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return GetCaptchaImage();\n\n              case 2:\n                data = _context4.sent;\n                this.imgSrc = window.URL.createObjectURL(data.data);\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function getCaptchaImage() {\n        return _getCaptchaImage.apply(this, arguments);\n      }\n\n      return getCaptchaImage;\n    }(),\n    onLogin: function onLogin() {\n      var _this3 = this;\n\n      this.$refs[\"login\"].validate( /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(valid) {\n          var data;\n          return regeneratorRuntime.wrap(function _callee5$(_context5) {\n            while (1) {\n              switch (_context5.prev = _context5.next) {\n                case 0:\n                  if (!valid) {\n                    _context5.next = 7;\n                    break;\n                  }\n\n                  _context5.next = 3;\n                  return Login(_objectSpread({}, _this3.loginForm));\n\n                case 3:\n                  data = _context5.sent;\n\n                  if (data.code === 0) {\n                    _this3.$notify({\n                      type: \"success\",\n                      message: _this3.$t(\"index.switch\") === \"cn\" ? \"登录成功！\" : \"success\"\n                    });\n\n                    _this3.$emit(\"close\");\n\n                    _this3.$emit(\"showUserInfo\", data.data);\n\n                    _this3.$emit(\"checkUsersStatus\");\n\n                    localStorage.setItem(\"username\", data.data);\n                    _this3.loginForm = new LoginForm();\n                  } else {\n                    _this3.$notify({\n                      type: \"error\",\n                      message: data.msg\n                    });\n                  }\n\n                  _context5.next = 8;\n                  break;\n\n                case 7:\n                  return _context5.abrupt(\"return\", false);\n\n                case 8:\n                case \"end\":\n                  return _context5.stop();\n              }\n            }\n          }, _callee5);\n        }));\n\n        return function (_x3) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    },\n    onUpdatePwd: function () {\n      var _onUpdatePwd = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n        var _this4 = this;\n\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                this.$refs[\"updatePwd\"].validate( /*#__PURE__*/function () {\n                  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(valid) {\n                    var data;\n                    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n                      while (1) {\n                        switch (_context6.prev = _context6.next) {\n                          case 0:\n                            if (!valid) {\n                              _context6.next = 9;\n                              break;\n                            }\n\n                            if (!(_this4.updatePwdForm.password !== _this4.updatePwdForm.arginPassword)) {\n                              _context6.next = 3;\n                              break;\n                            }\n\n                            return _context6.abrupt(\"return\", _this4.$notify({\n                              type: \"error\",\n                              message: _this4.$t(\"index.switch\") === \"cn\" ? \"两次密码输入不一致\" : \"passwords do not match\"\n                            }));\n\n                          case 3:\n                            _context6.next = 5;\n                            return UpdatePwd(_objectSpread({}, _this4.updatePwdForm));\n\n                          case 5:\n                            data = _context6.sent;\n\n                            if (data.code === 0) {\n                              _this4.$notify({\n                                type: \"success\",\n                                message: _this4.$t(\"index.switch\") === \"cn\" ? \"密码修改成功，请登录！\" : \"success\"\n                              });\n\n                              _this4.activeName = \"login\";\n                              _this4.updatePwdForm = new UpdatePwdForm();\n                            } else {\n                              _this4.$notify({\n                                type: \"error\",\n                                message: data.msg\n                              });\n                            }\n\n                            _context6.next = 11;\n                            break;\n\n                          case 9:\n                            console.log(\"error submit!!\");\n                            return _context6.abrupt(\"return\", false);\n\n                          case 11:\n                          case \"end\":\n                            return _context6.stop();\n                        }\n                      }\n                    }, _callee6);\n                  }));\n\n                  return function (_x4) {\n                    return _ref3.apply(this, arguments);\n                  };\n                }());\n\n              case 1:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function onUpdatePwd() {\n        return _onUpdatePwd.apply(this, arguments);\n      }\n\n      return onUpdatePwd;\n    }()\n  }\n};",{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<!--\r\n * @Author: yaoyuting\r\n * @Date: 2021-04-16 08:54:18\r\n * @LastEditors: yaoyuting\r\n * @LastEditTime: 2021-05-18 21:28:37\r\n * @Descripttion: \r\n-->\r\n<template>\r\n  <div class=\"Login-m\">\r\n    <!-- <img class=\"logo\" src=\"@/assets/imagesm/logo@2x.png\" alt=\"\" /> -->\r\n    <p v-show=\"activeName === 'login'\" class=\"form_all_title\">\r\n      {{ $t(\"dialog.login\") }}\r\n    </p>\r\n    <p v-show=\"activeName === 'register'\" class=\"form_all_title\">\r\n      {{ $t(\"navbar.Register\") }}\r\n    </p>\r\n    <p v-show=\"activeName === 'third'\" class=\"form_all_title\">\r\n      {{ $t(\"dialog.Forgot\") }}\r\n    </p>\r\n    <el-form\r\n      ref=\"login\"\r\n      v-if=\"activeName === 'login'\"\r\n      :model=\"loginForm\"\r\n      class=\"demo-form-inline\"\r\n      :rules=\"loginRule\"\r\n    >\r\n      <el-form-item label=\"\" prop=\"loginName\" key=\"login1\">\r\n        <el-input\r\n          v-model=\"loginForm.loginName\"\r\n          :placeholder=\"$t('dialog.enteru')\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"\" prop=\"password\" key=\"login2\">\r\n        <el-input\r\n          v-model=\"loginForm.password\"\r\n          :placeholder=\"$t('dialog.enterpw')\"\r\n          type=\"password\"\r\n          autocomplete=\"new-password\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"\" prop=\"code\" key=\"login3\">\r\n        <div class=\"between\">\r\n          <el-input\r\n            v-model=\"loginForm.code\"\r\n            :placeholder=\"$t('dialog.code')\"\r\n          ></el-input>\r\n          <img :src=\"imgSrc\" alt=\"\" @click=\"getCaptchaImage\" />\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <div @click=\"onLogin\" class=\"submit\">{{ $t(\"dialog.login\") }}</div>\r\n      </el-form-item>\r\n      <div class=\"between\">\r\n        <div @click=\"activeName = 'third'\" class=\"forget\">\r\n          {{ $t(\"dialog.Forgot\") }}\r\n        </div>\r\n        <!-- <el-checkbox-group v-model=\"loginForm.autoLogin\">\r\n          <el-checkbox :label=\"$t('dialog.auto')\" name=\"type\"></el-checkbox>\r\n        </el-checkbox-group> -->\r\n        <div @click=\"activeName = 'register'\" class=\"forget\">\r\n          {{ $t(\"dialog.register\") }}<i class=\"el-icon-arrow-right\"></i>\r\n        </div>\r\n      </div>\r\n    </el-form>\r\n    <el-form\r\n      ref=\"register\"\r\n      v-if=\"activeName === 'register'\"\r\n      :model=\"registeredForm\"\r\n      class=\"demo-form-inline\"\r\n      :rules=\"registeredRule\"\r\n    >\r\n      <el-form-item label=\"\" prop=\"loginName\" key=\"register1\">\r\n        <el-input\r\n          v-model=\"registeredForm.loginName\"\r\n          :placeholder=\"$t('dialog.enteru')\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"\" prop=\"phonenumber\" key=\"register2\">\r\n        <el-input\r\n          v-model=\"registeredForm.phonenumber\"\r\n          :placeholder=\"$t('dialog.enterp')\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"\" prop=\"code\" key=\"register3\">\r\n        <div class=\"between\">\r\n          <el-input\r\n            v-model=\"registeredForm.code\"\r\n            :placeholder=\"$t('dialog.enterc')\"\r\n          ></el-input>\r\n          <el-button\r\n            type=\"text\"\r\n            @click=\"onSubmit('registeredForm')\"\r\n            class=\"code\"\r\n          >\r\n            {{ timer ? count + \"s\" : $t(\"dialog.sendc\") }}\r\n          </el-button>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item label=\"\" prop=\"email\" key=\"register4\">\r\n        <el-input\r\n          v-model=\"registeredForm.email\"\r\n          :placeholder=\"$t('dialog.entere')\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"\" prop=\"password\" key=\"register5\">\r\n        <el-input\r\n          v-model=\"registeredForm.password\"\r\n          :placeholder=\"$t('dialog.enterpw')\"\r\n          type=\"password\"\r\n          autocomplete=\"new-password\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"\" prop=\"arginPassword\" key=\"register6\">\r\n        <el-input\r\n          v-model=\"registeredForm.arginPassword\"\r\n          :placeholder=\"$t('dialog.enterap')\"\r\n          type=\"password\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <div @click=\"onRegistered\" class=\"submit\">\r\n        {{ $t(\"dialog.register\") }}\r\n      </div>\r\n      <!-- <el-form-item label=\"\">\r\n        <div class=\"between\">\r\n          <el-checkbox-group v-model=\"registeredForm.autoLogin\">\r\n            <el-checkbox\r\n              :label=\"$t('dialog.read')\"\r\n              name=\"type\"\r\n            ></el-checkbox>\r\n          </el-checkbox-group>\r\n        </div>\r\n      </el-form-item> -->\r\n      <div class=\"between mt20\">\r\n        <div></div>\r\n        <div @click=\"activeName = 'login'\" class=\"forget\">\r\n          {{ $t(\"dialog.back\") }}<i class=\"el-icon-arrow-right\"></i>\r\n        </div>\r\n      </div>\r\n    </el-form>\r\n    <el-form\r\n      ref=\"updatePwd\"\r\n      v-if=\"activeName === 'third'\"\r\n      :model=\"updatePwdForm\"\r\n      class=\"demo-form-inline\"\r\n      :rules=\"updatePwdRule\"\r\n    >\r\n      <el-form-item label=\"\" prop=\"phonenumber\" key=\"updatePwd1\">\r\n        <el-input\r\n          v-model=\"updatePwdForm.phonenumber\"\r\n          :placeholder=\"$t('dialog.enterp')\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"\" prop=\"code\" key=\"updatePwd2\">\r\n        <div class=\"between\">\r\n          <el-input\r\n            v-model=\"updatePwdForm.code\"\r\n            :placeholder=\"$t('dialog.code')\"\r\n          ></el-input>\r\n          <el-button\r\n            type=\"text\"\r\n            @click=\"onSubmit('updatePwdForm')\"\r\n            class=\"code\"\r\n          >\r\n            {{ timer ? count + \"s\" : $t(\"dialog.sendc\") }}\r\n          </el-button>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item label=\"\" prop=\"password\" key=\"updatePwd3\">\r\n        <el-input\r\n          v-model=\"updatePwdForm.password\"\r\n          type=\"password\"\r\n          :placeholder=\"$t('dialog.enterpw')\"\r\n          autocomplete=\"new-password\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"\" prop=\"arginPassword\" key=\"updatePwd4\">\r\n        <el-input\r\n          v-model=\"updatePwdForm.arginPassword\"\r\n          type=\"password\"\r\n          :placeholder=\"$t('dialog.enterap')\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <div @click=\"onUpdatePwd\" class=\"submit\">\r\n          {{ $t(\"dialog.confirm\") }}\r\n        </div>\r\n      </el-form-item>\r\n      <div class=\"between\">\r\n        <div></div>\r\n        <div @click=\"activeName = 'login'\" class=\"forget\">\r\n          {{ $t(\"dialog.back\") }}<i class=\"el-icon-arrow-right\"></i>\r\n        </div>\r\n      </div>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nclass LoginForm {\r\n  constructor() {\r\n    this.loginName = \"\";\r\n    this.password = \"\";\r\n    this.code = \"\";\r\n    this.autoLogin = false;\r\n  }\r\n}\r\nclass RegisteredForm {\r\n  constructor() {\r\n    this.loginName = \"\";\r\n    this.email = \"\";\r\n    this.phonenumber = \"\";\r\n    this.password = \"\";\r\n    this.arginPassword = \"\";\r\n    this.code = \"\";\r\n    // this.autoLogin = false;\r\n  }\r\n}\r\nclass UpdatePwdForm {\r\n  constructor() {\r\n    this.phonenumber = \"\";\r\n    this.password = \"\";\r\n    this.code = \"\";\r\n    this.arginPassword = \"\";\r\n  }\r\n}\r\n\r\nimport {\r\n  Registered,\r\n  GetCaptchaImage,\r\n  Login,\r\n  UpdatePwd,\r\n  GetCode,\r\n} from \"@/assets/server/api.js\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      activeName: \"\",\r\n      loginForm: new LoginForm(),\r\n      registeredForm: new RegisteredForm(),\r\n      updatePwdForm: new UpdatePwdForm(),\r\n      isForget: false,\r\n      imgSrc: \"\",\r\n      loginRule: {\r\n        loginName: [\r\n          {\r\n            required: true,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"请输入登录名\"\r\n                : \"enter your login name\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        password: [\r\n          {\r\n            required: true,\r\n            pattern: /^(\\w){6,20}$/,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"密码格式不对\"\r\n                : \"Incorrect password format\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        code: [\r\n          {\r\n            required: true,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"请输入验证码\"\r\n                : \"enter your verification code\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n      },\r\n      registeredRule: {\r\n        loginName: [\r\n          {\r\n            required: true,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"请输入登录名\"\r\n                : \"enter your login name\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        email: [\r\n          {\r\n            required: true,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"请输入正确的邮箱格式\"\r\n                : \"enter the correct email format\",\r\n            trigger: \"blur\",\r\n            pattern: /\\w+@[a-z0-9]+\\.[a-z]{2,4}/,\r\n          },\r\n        ],\r\n        phonenumber: [\r\n          {\r\n            required: true,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"请输入正确的手机号\"\r\n                : \"input the correct mobile phone\",\r\n            trigger: \"blur\",\r\n            pattern: /^1[3|4|5|7|8][0-9]\\d{8}$/,\r\n          },\r\n        ],\r\n        password: [\r\n          {\r\n            required: true,\r\n            pattern: /^(\\w){6,20}$/,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"密码格式不对\"\r\n                : \"Incorrect password format\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        arginPassword: [\r\n          {\r\n            required: true,\r\n            pattern: /^(\\w){6,20}$/,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"密码格式不对\"\r\n                : \"Incorrect password format\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        code: [\r\n          {\r\n            required: true,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"请输入验证码\"\r\n                : \"enter your verification code\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n      },\r\n      updatePwdRule: {\r\n        phonenumber: [\r\n          {\r\n            required: true,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"请输入登录名\"\r\n                : \"enter your login name\",\r\n            trigger: \"blur\",\r\n            pattern: /^1[3|4|5|7|8][0-9]\\d{8}$/,\r\n          },\r\n        ],\r\n        password: [\r\n          {\r\n            required: true,\r\n            pattern: /^(\\w){6,20}$/,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"密码格式不对\"\r\n                : \"Incorrect password format\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        password: [\r\n          {\r\n            required: true,\r\n            pattern: /^(\\w){6,20}$/,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"密码格式不对\"\r\n                : \"Incorrect password format\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        code: [\r\n          {\r\n            required: true,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"请输入验证码\"\r\n                : \"enter your verification code\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n      },\r\n      count: 60,\r\n      timer: null,\r\n    };\r\n  },\r\n  props: {\r\n    dialogType: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n  },\r\n  watch: {\r\n    dialogType(newValue, oldValue) {\r\n      this.activeName = newValue;\r\n    },\r\n    activeName(newValue, oldValue) {\r\n      clearInterval(this.timer)\r\n      this.timer=null\r\n      this.count = 60\r\n    }\r\n  },\r\n  created() {\r\n    this.getCaptchaImage();\r\n    this.activeName = this.dialogType;\r\n  },\r\n  methods: {\r\n    async onSubmit(type) {\r\n      let reg = /^1[3|4|5|7|8][0-9]\\d{8}$/;\r\n      if (!reg.test(this[type].phonenumber) || this[type].phonenumber === \"\") {\r\n        return this.$notify({\r\n          type: \"warning\",\r\n          message:\r\n            this.$t(\"index.switch\") === \"cn\"\r\n              ? \"请输入正确手机号\"\r\n              : \"enter the correct phone number\",\r\n        });\r\n      }\r\n      let str = ''\r\n      if(type === 'registeredForm') {\r\n        str = this[type].phonenumber + '/reg'\r\n      } else {\r\n        str = this[type].phonenumber + '/pwd'\r\n      }\r\n      const data = await GetCode(str)\r\n      // console.log(data);\r\n      if(data.code=='500'){\r\n         return this.$notify({\r\n              type: \"error\",\r\n              message:\r\n               data.msg\r\n            });\r\n      }\r\n      this.timer=setInterval(() => {\r\n        this.count--\r\n        if (this.count<=0) {\r\n          clearInterval(this.timer)\r\n          this.timer=null\r\n          this.count = 60\r\n        }\r\n      }, 1000);\r\n      // console.log(data, \"data\");\r\n    },\r\n    async onRegistered() {\r\n      this.$refs[\"register\"].validate(async (valid) => {\r\n        if (valid) {\r\n          if (\r\n            this.registeredForm.password !== this.registeredForm.arginPassword\r\n          ) {\r\n            return this.$notify({\r\n              type: \"error\",\r\n              message:\r\n                this.$t(\"index.switch\") === \"cn\"\r\n                  ? \"两次密码输入不一致\"\r\n                  : \"passwords do not match\",\r\n            });\r\n          }\r\n          const data = await Registered({ ...this.registeredForm });\r\n          if (data.code === 0) {\r\n            this.$notify({\r\n              type: \"success\",\r\n              message:\r\n                this.$t(\"index.switch\") === \"cn\" ? \"注册成功\" : \"success\",\r\n            });\r\n            this.activeName = \"login\";\r\n            this.registeredForm = new RegisteredForm();\r\n            this.count = 60\r\n            clearInterval(this.timer)\r\n            this.timer=null\r\n          } else {\r\n            this.$notify({ type: \"error\", message: data.msg });\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    async getCaptchaImage() {\r\n      const data = await GetCaptchaImage();\r\n      this.imgSrc = window.URL.createObjectURL(data.data);\r\n    },\r\n    onLogin() {\r\n      this.$refs[\"login\"].validate(async (valid) => {\r\n        if (valid) {\r\n          const data = await Login({ ...this.loginForm });\r\n          if (data.code === 0) {\r\n            this.$notify({\r\n              type: \"success\",\r\n              message:\r\n                this.$t(\"index.switch\") === \"cn\" ? \"登录成功！\" : \"success\",\r\n            });\r\n            this.$emit(\"close\");\r\n            this.$emit(\"showUserInfo\", data.data);\r\n            this.$emit(\"checkUsersStatus\");\r\n            localStorage.setItem(\"username\", data.data);\r\n            this.loginForm = new LoginForm();\r\n          } else {\r\n            this.$notify({ type: \"error\", message: data.msg });\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    async onUpdatePwd() {\r\n      this.$refs[\"updatePwd\"].validate(async (valid) => {\r\n        if (valid) {\r\n          if (\r\n            this.updatePwdForm.password !== this.updatePwdForm.arginPassword\r\n          ) {\r\n            return this.$notify({\r\n              type: \"error\",\r\n              message:\r\n                this.$t(\"index.switch\") === \"cn\"\r\n                  ? \"两次密码输入不一致\"\r\n                  : \"passwords do not match\",\r\n            });\r\n          }\r\n          const data = await UpdatePwd({ ...this.updatePwdForm });\r\n          if (data.code === 0) {\r\n            this.$notify({\r\n              type: \"success\",\r\n              message:\r\n                this.$t(\"index.switch\") === \"cn\"\r\n                  ? \"密码修改成功，请登录！\"\r\n                  : \"success\",\r\n            });\r\n            this.activeName = \"login\";\r\n            this.updatePwdForm = new UpdatePwdForm();\r\n          } else {\r\n            this.$notify({ type: \"error\", message: data.msg });\r\n          }\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.Login-m {\r\n  .form_all_title {\r\n font-size: 36px;\r\nfont-family: PingFang SC;\r\nfont-weight: 600;\r\nline-height: 50px;\r\ncolor: #0D051F;\r\nopacity: 1;\r\n  margin-bottom: 40px;\r\n  text-align: center;\r\n}\r\n\r\n  .logo {\r\n    width: 264px;\r\n    margin-left: 50%;\r\n    transform: translateX(-50%);\r\n    margin-bottom: 42px;\r\n  }\r\n  .submit {\r\n    width: 492px;\r\n    height: 72px;\r\n    line-height: 72px;\r\n    text-align: center;\r\n    background: #5432F4;\r\n    border-radius: 8px;\r\n    font-size: 28px;\r\n    color: #fff;\r\n    margin-top: 48px;\r\n  }\r\n  .mt20 {\r\n    margin-top: 20px;\r\n  }\r\n  .between {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    font-size: 22px;\r\n    color: #5432F4;\r\n    img {\r\n      height: 80px;\r\n      width: 160px;\r\n      margin-left: 10px;\r\n    }\r\n    .code {\r\n      margin-left: 24px;\r\n      color: #5432F4;\r\n      width: 260px;\r\n      text-align: center;\r\n    }\r\n    .forget{\r\n      display: flex;\r\n      align-items: center;\r\n    }\r\n  }\r\n}\r\n</style>\r\n<style lang=\"less\">\r\n.Login-m {\r\n  .between {\r\n    .el-checkbox__label {\r\n      font-size: 20px;\r\n      margin-left: -12px;\r\n    }\r\n    .el-checkbox__input.is-checked + .el-checkbox__label {\r\n      color: #676767;\r\n    }\r\n    .el-checkbox__input.is-focus .el-checkbox__inner {\r\n      border-color: #dcdfe6;\r\n    }\r\n    .el-checkbox__input.is-checked .el-checkbox__inner {\r\n      background-color: #5432F4;\r\n      border-color: #5432F4;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/m"}]}