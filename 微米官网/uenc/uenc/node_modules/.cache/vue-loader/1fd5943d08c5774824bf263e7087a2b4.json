{"remainingRequest":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\src\\components\\m\\Login.vue?vue&type=style&index=0&id=fb70c472&lang=less&scoped=true&","dependencies":[{"path":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\src\\components\\m\\Login.vue","mtime":1623717594298},{"path":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\css-loader\\index.js","mtime":1623717556548},{"path":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1623717591153},{"path":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\postcss-loader\\src\\index.js","mtime":1623717575023},{"path":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\less-loader\\dist\\cjs.js","mtime":1623717567233},{"path":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1623717554021},{"path":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\vue-loader\\lib\\index.js","mtime":1623717591153}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.Login-m {\r\n  .form_all_title {\r\n font-size: 36px;\r\nfont-family: PingFang SC;\r\nfont-weight: 600;\r\nline-height: 50px;\r\ncolor: #0D051F;\r\nopacity: 1;\r\n  margin-bottom: 40px;\r\n  text-align: center;\r\n}\r\n\r\n  .logo {\r\n    width: 264px;\r\n    margin-left: 50%;\r\n    transform: translateX(-50%);\r\n    margin-bottom: 42px;\r\n  }\r\n  .submit {\r\n    width: 492px;\r\n    height: 72px;\r\n    line-height: 72px;\r\n    text-align: center;\r\n    background: #5432F4;\r\n    border-radius: 8px;\r\n    font-size: 28px;\r\n    color: #fff;\r\n    margin-top: 48px;\r\n  }\r\n  .mt20 {\r\n    margin-top: 20px;\r\n  }\r\n  .between {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    font-size: 22px;\r\n    color: #5432F4;\r\n    img {\r\n      height: 80px;\r\n      width: 160px;\r\n      margin-left: 10px;\r\n    }\r\n    .code {\r\n      margin-left: 24px;\r\n      color: #5432F4;\r\n      width: 260px;\r\n      text-align: center;\r\n    }\r\n    .forget{\r\n      display: flex;\r\n      align-items: center;\r\n    }\r\n  }\r\n}\r\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components/m","sourcesContent":["<!--\r\n * @Author: yaoyuting\r\n * @Date: 2021-04-16 08:54:18\r\n * @LastEditors: yaoyuting\r\n * @LastEditTime: 2021-05-18 21:28:37\r\n * @Descripttion: \r\n-->\r\n<template>\r\n  <div class=\"Login-m\">\r\n    <!-- <img class=\"logo\" src=\"@/assets/imagesm/logo@2x.png\" alt=\"\" /> -->\r\n    <p v-show=\"activeName === 'login'\" class=\"form_all_title\">\r\n      {{ $t(\"dialog.login\") }}\r\n    </p>\r\n    <p v-show=\"activeName === 'register'\" class=\"form_all_title\">\r\n      {{ $t(\"navbar.Register\") }}\r\n    </p>\r\n    <p v-show=\"activeName === 'third'\" class=\"form_all_title\">\r\n      {{ $t(\"dialog.Forgot\") }}\r\n    </p>\r\n    <el-form\r\n      ref=\"login\"\r\n      v-if=\"activeName === 'login'\"\r\n      :model=\"loginForm\"\r\n      class=\"demo-form-inline\"\r\n      :rules=\"loginRule\"\r\n    >\r\n      <el-form-item label=\"\" prop=\"loginName\" key=\"login1\">\r\n        <el-input\r\n          v-model=\"loginForm.loginName\"\r\n          :placeholder=\"$t('dialog.enteru')\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"\" prop=\"password\" key=\"login2\">\r\n        <el-input\r\n          v-model=\"loginForm.password\"\r\n          :placeholder=\"$t('dialog.enterpw')\"\r\n          type=\"password\"\r\n          autocomplete=\"new-password\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"\" prop=\"code\" key=\"login3\">\r\n        <div class=\"between\">\r\n          <el-input\r\n            v-model=\"loginForm.code\"\r\n            :placeholder=\"$t('dialog.code')\"\r\n          ></el-input>\r\n          <img :src=\"imgSrc\" alt=\"\" @click=\"getCaptchaImage\" />\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <div @click=\"onLogin\" class=\"submit\">{{ $t(\"dialog.login\") }}</div>\r\n      </el-form-item>\r\n      <div class=\"between\">\r\n        <div @click=\"activeName = 'third'\" class=\"forget\">\r\n          {{ $t(\"dialog.Forgot\") }}\r\n        </div>\r\n        <!-- <el-checkbox-group v-model=\"loginForm.autoLogin\">\r\n          <el-checkbox :label=\"$t('dialog.auto')\" name=\"type\"></el-checkbox>\r\n        </el-checkbox-group> -->\r\n        <div @click=\"activeName = 'register'\" class=\"forget\">\r\n          {{ $t(\"dialog.register\") }}<i class=\"el-icon-arrow-right\"></i>\r\n        </div>\r\n      </div>\r\n    </el-form>\r\n    <el-form\r\n      ref=\"register\"\r\n      v-if=\"activeName === 'register'\"\r\n      :model=\"registeredForm\"\r\n      class=\"demo-form-inline\"\r\n      :rules=\"registeredRule\"\r\n    >\r\n      <el-form-item label=\"\" prop=\"loginName\" key=\"register1\">\r\n        <el-input\r\n          v-model=\"registeredForm.loginName\"\r\n          :placeholder=\"$t('dialog.enteru')\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"\" prop=\"phonenumber\" key=\"register2\">\r\n        <el-input\r\n          v-model=\"registeredForm.phonenumber\"\r\n          :placeholder=\"$t('dialog.enterp')\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"\" prop=\"code\" key=\"register3\">\r\n        <div class=\"between\">\r\n          <el-input\r\n            v-model=\"registeredForm.code\"\r\n            :placeholder=\"$t('dialog.enterc')\"\r\n          ></el-input>\r\n          <el-button\r\n            type=\"text\"\r\n            @click=\"onSubmit('registeredForm')\"\r\n            class=\"code\"\r\n          >\r\n            {{ timer ? count + \"s\" : $t(\"dialog.sendc\") }}\r\n          </el-button>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item label=\"\" prop=\"email\" key=\"register4\">\r\n        <el-input\r\n          v-model=\"registeredForm.email\"\r\n          :placeholder=\"$t('dialog.entere')\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"\" prop=\"password\" key=\"register5\">\r\n        <el-input\r\n          v-model=\"registeredForm.password\"\r\n          :placeholder=\"$t('dialog.enterpw')\"\r\n          type=\"password\"\r\n          autocomplete=\"new-password\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"\" prop=\"arginPassword\" key=\"register6\">\r\n        <el-input\r\n          v-model=\"registeredForm.arginPassword\"\r\n          :placeholder=\"$t('dialog.enterap')\"\r\n          type=\"password\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <div @click=\"onRegistered\" class=\"submit\">\r\n        {{ $t(\"dialog.register\") }}\r\n      </div>\r\n      <!-- <el-form-item label=\"\">\r\n        <div class=\"between\">\r\n          <el-checkbox-group v-model=\"registeredForm.autoLogin\">\r\n            <el-checkbox\r\n              :label=\"$t('dialog.read')\"\r\n              name=\"type\"\r\n            ></el-checkbox>\r\n          </el-checkbox-group>\r\n        </div>\r\n      </el-form-item> -->\r\n      <div class=\"between mt20\">\r\n        <div></div>\r\n        <div @click=\"activeName = 'login'\" class=\"forget\">\r\n          {{ $t(\"dialog.back\") }}<i class=\"el-icon-arrow-right\"></i>\r\n        </div>\r\n      </div>\r\n    </el-form>\r\n    <el-form\r\n      ref=\"updatePwd\"\r\n      v-if=\"activeName === 'third'\"\r\n      :model=\"updatePwdForm\"\r\n      class=\"demo-form-inline\"\r\n      :rules=\"updatePwdRule\"\r\n    >\r\n      <el-form-item label=\"\" prop=\"phonenumber\" key=\"updatePwd1\">\r\n        <el-input\r\n          v-model=\"updatePwdForm.phonenumber\"\r\n          :placeholder=\"$t('dialog.enterp')\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"\" prop=\"code\" key=\"updatePwd2\">\r\n        <div class=\"between\">\r\n          <el-input\r\n            v-model=\"updatePwdForm.code\"\r\n            :placeholder=\"$t('dialog.code')\"\r\n          ></el-input>\r\n          <el-button\r\n            type=\"text\"\r\n            @click=\"onSubmit('updatePwdForm')\"\r\n            class=\"code\"\r\n          >\r\n            {{ timer ? count + \"s\" : $t(\"dialog.sendc\") }}\r\n          </el-button>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item label=\"\" prop=\"password\" key=\"updatePwd3\">\r\n        <el-input\r\n          v-model=\"updatePwdForm.password\"\r\n          type=\"password\"\r\n          :placeholder=\"$t('dialog.enterpw')\"\r\n          autocomplete=\"new-password\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"\" prop=\"arginPassword\" key=\"updatePwd4\">\r\n        <el-input\r\n          v-model=\"updatePwdForm.arginPassword\"\r\n          type=\"password\"\r\n          :placeholder=\"$t('dialog.enterap')\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <div @click=\"onUpdatePwd\" class=\"submit\">\r\n          {{ $t(\"dialog.confirm\") }}\r\n        </div>\r\n      </el-form-item>\r\n      <div class=\"between\">\r\n        <div></div>\r\n        <div @click=\"activeName = 'login'\" class=\"forget\">\r\n          {{ $t(\"dialog.back\") }}<i class=\"el-icon-arrow-right\"></i>\r\n        </div>\r\n      </div>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nclass LoginForm {\r\n  constructor() {\r\n    this.loginName = \"\";\r\n    this.password = \"\";\r\n    this.code = \"\";\r\n    this.autoLogin = false;\r\n  }\r\n}\r\nclass RegisteredForm {\r\n  constructor() {\r\n    this.loginName = \"\";\r\n    this.email = \"\";\r\n    this.phonenumber = \"\";\r\n    this.password = \"\";\r\n    this.arginPassword = \"\";\r\n    this.code = \"\";\r\n    // this.autoLogin = false;\r\n  }\r\n}\r\nclass UpdatePwdForm {\r\n  constructor() {\r\n    this.phonenumber = \"\";\r\n    this.password = \"\";\r\n    this.code = \"\";\r\n    this.arginPassword = \"\";\r\n  }\r\n}\r\n\r\nimport {\r\n  Registered,\r\n  GetCaptchaImage,\r\n  Login,\r\n  UpdatePwd,\r\n  GetCode,\r\n} from \"@/assets/server/api.js\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      activeName: \"\",\r\n      loginForm: new LoginForm(),\r\n      registeredForm: new RegisteredForm(),\r\n      updatePwdForm: new UpdatePwdForm(),\r\n      isForget: false,\r\n      imgSrc: \"\",\r\n      loginRule: {\r\n        loginName: [\r\n          {\r\n            required: true,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"请输入登录名\"\r\n                : \"enter your login name\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        password: [\r\n          {\r\n            required: true,\r\n            pattern: /^(\\w){6,20}$/,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"密码格式不对\"\r\n                : \"Incorrect password format\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        code: [\r\n          {\r\n            required: true,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"请输入验证码\"\r\n                : \"enter your verification code\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n      },\r\n      registeredRule: {\r\n        loginName: [\r\n          {\r\n            required: true,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"请输入登录名\"\r\n                : \"enter your login name\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        email: [\r\n          {\r\n            required: true,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"请输入正确的邮箱格式\"\r\n                : \"enter the correct email format\",\r\n            trigger: \"blur\",\r\n            pattern: /\\w+@[a-z0-9]+\\.[a-z]{2,4}/,\r\n          },\r\n        ],\r\n        phonenumber: [\r\n          {\r\n            required: true,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"请输入正确的手机号\"\r\n                : \"input the correct mobile phone\",\r\n            trigger: \"blur\",\r\n            pattern: /^1[3|4|5|7|8][0-9]\\d{8}$/,\r\n          },\r\n        ],\r\n        password: [\r\n          {\r\n            required: true,\r\n            pattern: /^(\\w){6,20}$/,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"密码格式不对\"\r\n                : \"Incorrect password format\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        arginPassword: [\r\n          {\r\n            required: true,\r\n            pattern: /^(\\w){6,20}$/,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"密码格式不对\"\r\n                : \"Incorrect password format\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        code: [\r\n          {\r\n            required: true,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"请输入验证码\"\r\n                : \"enter your verification code\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n      },\r\n      updatePwdRule: {\r\n        phonenumber: [\r\n          {\r\n            required: true,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"请输入登录名\"\r\n                : \"enter your login name\",\r\n            trigger: \"blur\",\r\n            pattern: /^1[3|4|5|7|8][0-9]\\d{8}$/,\r\n          },\r\n        ],\r\n        password: [\r\n          {\r\n            required: true,\r\n            pattern: /^(\\w){6,20}$/,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"密码格式不对\"\r\n                : \"Incorrect password format\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        password: [\r\n          {\r\n            required: true,\r\n            pattern: /^(\\w){6,20}$/,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"密码格式不对\"\r\n                : \"Incorrect password format\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        code: [\r\n          {\r\n            required: true,\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"请输入验证码\"\r\n                : \"enter your verification code\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n      },\r\n      count: 60,\r\n      timer: null,\r\n    };\r\n  },\r\n  props: {\r\n    dialogType: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n  },\r\n  watch: {\r\n    dialogType(newValue, oldValue) {\r\n      this.activeName = newValue;\r\n    },\r\n    activeName(newValue, oldValue) {\r\n      clearInterval(this.timer)\r\n      this.timer=null\r\n      this.count = 60\r\n    }\r\n  },\r\n  created() {\r\n    this.getCaptchaImage();\r\n    this.activeName = this.dialogType;\r\n  },\r\n  methods: {\r\n    async onSubmit(type) {\r\n      let reg = /^1[3|4|5|7|8][0-9]\\d{8}$/;\r\n      if (!reg.test(this[type].phonenumber) || this[type].phonenumber === \"\") {\r\n        return this.$notify({\r\n          type: \"warning\",\r\n          message:\r\n            this.$t(\"index.switch\") === \"cn\"\r\n              ? \"请输入正确手机号\"\r\n              : \"enter the correct phone number\",\r\n        });\r\n      }\r\n      let str = ''\r\n      if(type === 'registeredForm') {\r\n        str = this[type].phonenumber + '/reg'\r\n      } else {\r\n        str = this[type].phonenumber + '/pwd'\r\n      }\r\n      const data = await GetCode(str)\r\n      // console.log(data);\r\n      if(data.code=='500'){\r\n         return this.$notify({\r\n              type: \"error\",\r\n              message:\r\n               data.msg\r\n            });\r\n      }\r\n      this.timer=setInterval(() => {\r\n        this.count--\r\n        if (this.count<=0) {\r\n          clearInterval(this.timer)\r\n          this.timer=null\r\n          this.count = 60\r\n        }\r\n      }, 1000);\r\n      // console.log(data, \"data\");\r\n    },\r\n    async onRegistered() {\r\n      this.$refs[\"register\"].validate(async (valid) => {\r\n        if (valid) {\r\n          if (\r\n            this.registeredForm.password !== this.registeredForm.arginPassword\r\n          ) {\r\n            return this.$notify({\r\n              type: \"error\",\r\n              message:\r\n                this.$t(\"index.switch\") === \"cn\"\r\n                  ? \"两次密码输入不一致\"\r\n                  : \"passwords do not match\",\r\n            });\r\n          }\r\n          const data = await Registered({ ...this.registeredForm });\r\n          if (data.code === 0) {\r\n            this.$notify({\r\n              type: \"success\",\r\n              message:\r\n                this.$t(\"index.switch\") === \"cn\" ? \"注册成功\" : \"success\",\r\n            });\r\n            this.activeName = \"login\";\r\n            this.registeredForm = new RegisteredForm();\r\n            this.count = 60\r\n            clearInterval(this.timer)\r\n            this.timer=null\r\n          } else {\r\n            this.$notify({ type: \"error\", message: data.msg });\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    async getCaptchaImage() {\r\n      const data = await GetCaptchaImage();\r\n      this.imgSrc = window.URL.createObjectURL(data.data);\r\n    },\r\n    onLogin() {\r\n      this.$refs[\"login\"].validate(async (valid) => {\r\n        if (valid) {\r\n          const data = await Login({ ...this.loginForm });\r\n          if (data.code === 0) {\r\n            this.$notify({\r\n              type: \"success\",\r\n              message:\r\n                this.$t(\"index.switch\") === \"cn\" ? \"登录成功！\" : \"success\",\r\n            });\r\n            this.$emit(\"close\");\r\n            this.$emit(\"showUserInfo\", data.data);\r\n            this.$emit(\"checkUsersStatus\");\r\n            localStorage.setItem(\"username\", data.data);\r\n            this.loginForm = new LoginForm();\r\n          } else {\r\n            this.$notify({ type: \"error\", message: data.msg });\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    async onUpdatePwd() {\r\n      this.$refs[\"updatePwd\"].validate(async (valid) => {\r\n        if (valid) {\r\n          if (\r\n            this.updatePwdForm.password !== this.updatePwdForm.arginPassword\r\n          ) {\r\n            return this.$notify({\r\n              type: \"error\",\r\n              message:\r\n                this.$t(\"index.switch\") === \"cn\"\r\n                  ? \"两次密码输入不一致\"\r\n                  : \"passwords do not match\",\r\n            });\r\n          }\r\n          const data = await UpdatePwd({ ...this.updatePwdForm });\r\n          if (data.code === 0) {\r\n            this.$notify({\r\n              type: \"success\",\r\n              message:\r\n                this.$t(\"index.switch\") === \"cn\"\r\n                  ? \"密码修改成功，请登录！\"\r\n                  : \"success\",\r\n            });\r\n            this.activeName = \"login\";\r\n            this.updatePwdForm = new UpdatePwdForm();\r\n          } else {\r\n            this.$notify({ type: \"error\", message: data.msg });\r\n          }\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.Login-m {\r\n  .form_all_title {\r\n font-size: 36px;\r\nfont-family: PingFang SC;\r\nfont-weight: 600;\r\nline-height: 50px;\r\ncolor: #0D051F;\r\nopacity: 1;\r\n  margin-bottom: 40px;\r\n  text-align: center;\r\n}\r\n\r\n  .logo {\r\n    width: 264px;\r\n    margin-left: 50%;\r\n    transform: translateX(-50%);\r\n    margin-bottom: 42px;\r\n  }\r\n  .submit {\r\n    width: 492px;\r\n    height: 72px;\r\n    line-height: 72px;\r\n    text-align: center;\r\n    background: #5432F4;\r\n    border-radius: 8px;\r\n    font-size: 28px;\r\n    color: #fff;\r\n    margin-top: 48px;\r\n  }\r\n  .mt20 {\r\n    margin-top: 20px;\r\n  }\r\n  .between {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    font-size: 22px;\r\n    color: #5432F4;\r\n    img {\r\n      height: 80px;\r\n      width: 160px;\r\n      margin-left: 10px;\r\n    }\r\n    .code {\r\n      margin-left: 24px;\r\n      color: #5432F4;\r\n      width: 260px;\r\n      text-align: center;\r\n    }\r\n    .forget{\r\n      display: flex;\r\n      align-items: center;\r\n    }\r\n  }\r\n}\r\n</style>\r\n<style lang=\"less\">\r\n.Login-m {\r\n  .between {\r\n    .el-checkbox__label {\r\n      font-size: 20px;\r\n      margin-left: -12px;\r\n    }\r\n    .el-checkbox__input.is-checked + .el-checkbox__label {\r\n      color: #676767;\r\n    }\r\n    .el-checkbox__input.is-focus .el-checkbox__inner {\r\n      border-color: #dcdfe6;\r\n    }\r\n    .el-checkbox__input.is-checked .el-checkbox__inner {\r\n      background-color: #5432F4;\r\n      border-color: #5432F4;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}