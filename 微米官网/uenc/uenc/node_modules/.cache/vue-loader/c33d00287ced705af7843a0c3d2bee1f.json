{"remainingRequest":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\src\\views\\m\\Proposal\\Details.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\src\\views\\m\\Proposal\\Details.vue","mtime":1623717594328},{"path":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1623717554021},{"path":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\babel-loader\\lib\\index.js","mtime":1623717553223},{"path":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1623717554021},{"path":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\vue-loader\\lib\\index.js","mtime":1623717591153}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport {\r\n  GetDictList,\r\n  GetPoll,\r\n  AddImplPlan,\r\n  DetailInfo,\r\n  AddImplPlanOver\r\n} from \"@/assets/server/api.js\";\r\nimport { baseURL } from \"@/utils/utils\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      statusPoll: \"\",\r\n      itemPoll: null,\r\n      numPoll: \"\",\r\n      ProposaData: [],\r\n      statusProposaData: [],\r\n      plan: \"\",\r\n      exec: false,\r\n      poll: false,\r\n      pollNumber: \"\",\r\n      dialogVisible: false\r\n    };\r\n  },\r\n  created() {\r\n    this.getDictProposaData();\r\n    this.isPoll();\r\n  },\r\n  methods: {\r\n    close() {\r\n      this.statusPoll = 0;\r\n      this.dialogVisible = false;\r\n      this.itemPoll = null;\r\n      this.numPoll = \"\";\r\n    },\r\n    getPollStatus(status, list) {\r\n      if (list.userPollStatus === 0) {\r\n        this.statusPoll = status;\r\n        this.itemPoll = list;\r\n        if (\r\n          (this.ProposaData.status == \"1\" ||\r\n            this.ProposaData.status == \"3\" ||\r\n            this.ProposaData.status == \"4\") &&\r\n          this.poll\r\n        ) {\r\n          this.getPoll(\"pro\");\r\n        } else {\r\n          if (this.poll) {\r\n            if (this.pollNumber / 1 < 1000 && this.$route.query.type === \"vote\") {\r\n              this.$notify({\r\n                type: \"error\",\r\n                message:\r\n                  this.$t(\"index.switch\") === \"cn\"\r\n                    ? \"余额至少1000以上才可以投票哦！\"\r\n                    : \"balance of at least 1000\"\r\n              });\r\n            } else {\r\n              this.dialogVisible = true;\r\n            }\r\n          } else {\r\n            this.$notify({\r\n              type: \"error\",\r\n              message:\r\n                this.$t(\"index.switch\") === \"cn\"\r\n                  ? \"您没有投票权限！\"\r\n                  : \"not have the right to vote!\"\r\n            });\r\n          }\r\n        }\r\n      } else {\r\n        this.$notify({\r\n          type: \"error\",\r\n          message:\r\n            this.$t(\"index.switch\") === \"cn\"\r\n              ? \"您已参与本次投票!\"\r\n              : \"participated in this poll！\"\r\n        });\r\n      }\r\n    },\r\n    async isPoll() {\r\n      let loginName = localStorage.getItem(\"username\");\r\n      let id = this.$route.query.id;\r\n      const data = await DetailInfo({\r\n        loginName: loginName,\r\n        id: id\r\n      });\r\n      if (data.code == 0) {\r\n        this.ProposaData = data.data;\r\n        this.pollNumber = data.data.pollNumber;\r\n        this.poll = data.data.poll;\r\n        this.exec = data.data.exec;\r\n      }\r\n    },\r\n    async success() {\r\n      const data = await AddImplPlanOver({\r\n        id: this.$route.query.id\r\n      });\r\n      if (data.code == 0) {\r\n        this.isPoll();\r\n      }\r\n    },\r\n    async submit() {\r\n      if (this.plan == \"\")\r\n        return this.$notify({\r\n          type: \"error\",\r\n          message: this.$t(\"index.switch\") === \"cn\" ? \"请输入内容！\" : \"Enter content!\"\r\n        });\r\n      const data = await AddImplPlan({\r\n        proposalId: this.ProposaData.id,\r\n        content: this.plan,\r\n        createBy: this.ProposaData.createBy\r\n      });\r\n      if (data.code == 0) {\r\n        this.plan = \"\";\r\n        this.isPoll();\r\n      }\r\n    },\r\n    async getPoll(type = \"\") {\r\n      if (type !== \"pro\") {\r\n        if (this.itemPoll.userPollStatus != \"0\") {\r\n          return this.$notify({\r\n            type: \"warning\",\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\" ? \"已投票，请勿重复投递！\" : \"Voted, do not repeat!\"\r\n          });\r\n        }\r\n        if (this.numPoll < 1000 && this.$route.query.type === \"vote\") {\r\n          return this.$notify({\r\n            type: \"warning\",\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"投票数量不得小于1000\"\r\n                : \"Quantity less than 1000\"\r\n          });\r\n        }\r\n        if (this.numPoll > this.pollNumber) {\r\n          return this.$notify({\r\n            type: \"warning\",\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\" ? \"可用余额不足\" : \"Lack of balance\"\r\n          });\r\n        }\r\n      } else {\r\n        this.numPoll = 1;\r\n      }\r\n      let loginName = localStorage.getItem(\"username\");\r\n      const data = await GetPoll({\r\n        loginName: loginName,\r\n        proposalId: this.itemPoll.id,\r\n        status: this.statusPoll,\r\n        num: this.numPoll,\r\n        mark: this.itemPoll.status\r\n      });\r\n      if (data.code === 0) {\r\n        this.$notify({\r\n          type: \"success\",\r\n          message: this.$t(\"index.switch\") === \"cn\" ? \"投票成功！\" : \"success\"\r\n        });\r\n        this.isPoll();\r\n        this.close();\r\n      } else {\r\n        this.$message.error(dataList.msg);\r\n      }\r\n    },\r\n    async getDictProposaData() {\r\n      const dataProposaData = await GetDictList({ dictType: \"sys_proposal_status\" });\r\n      if (dataProposaData.code === 0) {\r\n        this.statusProposaData = dataProposaData.rows;\r\n      } else {\r\n        this.$message.error(dataProposaData.msg);\r\n      }\r\n    },\r\n    getStatus(type) {\r\n      let label = \"无状态\";\r\n      for (const key of this.statusProposaData) {\r\n        if (key.dictValue == type) {\r\n          label = key.dictLabel;\r\n          break;\r\n        }\r\n      }\r\n      return label;\r\n    }\r\n  }\r\n};\r\n",{"version":3,"sources":["Details.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Details.vue","sourceRoot":"src/views/m/Proposal","sourcesContent":["<!--\r\n * @Author: yaoyuting\r\n * @Date: 2021-04-25 20:37:07\r\n * @LastEditors: yaoyuting\r\n * @LastEditTime: 2021-05-19 21:32:08\r\n * @Descripttion: \r\n-->\r\n<template>\r\n  <div class=\"ProposaDetails\">\r\n    <div class=\"banner\">\r\n      <div class=\"placeholder\"></div>\r\n      <div class=\"details\">\r\n        <div class=\"item\">{{ $t(\"Proposal.Proposer\") }}：{{ ProposaData.name }}</div>\r\n        <div class=\"item\">{{ $t(\"Proposal.Creation\") }}：{{ ProposaData.createTime }}</div>\r\n        <div class=\"item\">{{ $t(\"Proposal.status\") }}：{{ getStatus(ProposaData.status) }}</div>\r\n        <div class=\"item\">{{ $t(\"Proposal.number\") }}：{{ ProposaData.id }}</div>\r\n        <div class=\"title\">{{ ProposaData.title }}</div>\r\n        <div class=\"votes\">\r\n          <!-- <div class=\"num\">\r\n            <span>{{ ProposaData.approve }}</span>\r\n            <span class=\"r\">{{ ProposaData.oppose }}</span>\r\n          </div> -->\r\n          <div class=\"meddile\">\r\n            <div\r\n              class=\"approve\"\r\n              :style=\"\r\n                `width: ${\r\n                  ProposaData.approve\r\n                    ? (\r\n                        (Number(ProposaData.approve) /\r\n                          (ProposaData.approve + Number(ProposaData.oppose))) *\r\n                        100\r\n                      ).toFixed(2)\r\n                    : ProposaData.approve == 0 && ProposaData.oppose == 0\r\n                    ? 50\r\n                    : 0\r\n                }%`\r\n              \"\r\n            >\r\n              <span>{{ ProposaData.approve }} </span>\r\n            </div>\r\n            <div\r\n              class=\"c\"\r\n              v-if=\"\r\n                !(ProposaData.approve == 0 && ProposaData.oppose > 0) &&\r\n                  !(ProposaData.approve > 0 && ProposaData.oppose == 0)\r\n              \"\r\n            >\r\n              <span class=\"iconfont iconlan\"></span>\r\n              <span class=\"iconfont iconhong\"></span>\r\n            </div>\r\n            <div\r\n              class=\"oppose\"\r\n              :style=\"\r\n                ` width: ${\r\n                  ProposaData.oppose\r\n                    ? (\r\n                        (ProposaData.oppose /\r\n                          (Number(ProposaData.approve) + Number(ProposaData.oppose))) *\r\n                        100\r\n                      ).toFixed(2)\r\n                    : ProposaData.approve == 0 && ProposaData.oppose == 0\r\n                    ? 50\r\n                    : 0\r\n                }%`\r\n              \"\r\n            >\r\n              <span> {{ ProposaData.oppose }}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"foot\">\r\n            <div @click=\"getPollStatus(1, ProposaData)\">\r\n              {{ ProposaData.userPollStatus === 1 ? $t(\"Proposal.agreea\") : $t(\"Proposal.agree\") }}\r\n              <img src=\"@/assets/images/icon/点赞 (1).png\" alt=\"暂无图片\" />\r\n            </div>\r\n            <div @click=\"getPollStatus(2, ProposaData)\" class=\"r\">\r\n              {{ ProposaData.userPollStatus === 2 ? $t(\"Proposal.opposea\") : $t(\"Proposal.oppose\")\r\n              }}<img src=\"@/assets/images/icon/点赞.png\" alt=\"暂无图片\" />\r\n            </div>\r\n          </div>\r\n          <!-- <div class=\"foot\">\r\n            <div @click=\"isPoll(1, ProposaData)\">\r\n              {{ ProposaData.userPollStatus === 1 ? \"已\" : \"\" }}赞成\r\n              <img src=\"@/assets/images/icon/点赞 (1).png\"  alt=\"暂无图片\" />\r\n            </div>\r\n            <div @click=\"isPoll(2, ProposaData)\" class=\"r\">\r\n              <img src=\"@/assets/images/icon/点赞.png\"  alt=\"暂无图片\" />{{\r\n                ProposaData.userPollStatus === 2 ? \"已\" : \"\"\r\n              }}反对\r\n            </div>\r\n          </div> -->\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"content_bg\">\r\n      <div class=\"content\">\r\n        <div class=\"top\">\r\n          <div class=\"lebelTitle\">{{ $t(\"Proposal.Abstract\") }}</div>\r\n          <div class=\"bg\"></div>\r\n        </div>\r\n        <div class=\"text\" v-html=\"ProposaData.summary\"></div>\r\n        <div class=\"top\">\r\n          <div class=\"lebelTitle\">{{ $t(\"Proposal.Target\") }}</div>\r\n          <div class=\"bg\"></div>\r\n        </div>\r\n        <div class=\"text\">{{ ProposaData.target }}</div>\r\n        <div class=\"top\">\r\n          <div class=\"lebelTitle\">{{ $t(\"Proposal.Plan\") }}</div>\r\n          <div class=\"bg\"></div>\r\n        </div>\r\n        <div class=\"text\">{{ ProposaData.plan }}</div>\r\n        <div class=\"top\">\r\n          <div class=\"lebelTitle\">{{ $t(\"Proposal.Budget\") }}</div>\r\n          <div class=\"bg\"></div>\r\n        </div>\r\n        <div class=\"text\">{{ ProposaData.budget }}</div>\r\n        <div class=\"planList\">\r\n          <div\r\n            class=\"top\"\r\n            v-if=\"\r\n              ProposaData &&\r\n                ProposaData.implPlanList &&\r\n                JSON.stringify(ProposaData.implPlanList) !== '{}'\r\n            \"\r\n          >\r\n            <div class=\"lebelTitle\">{{ $t(\"Proposal.Implementation\") }}</div>\r\n            <div class=\"bg\"></div>\r\n          </div>\r\n          <div\r\n            class=\"title_about\"\r\n            v-if=\"\r\n              ProposaData &&\r\n                ProposaData.implPlanList &&\r\n                JSON.stringify(ProposaData.implPlanList) !== '{}'\r\n            \"\r\n          >\r\n            {{ ProposaData.implPlan }}\r\n          </div>\r\n          <div\r\n            class=\"details_text\"\r\n            v-if=\"\r\n              ProposaData &&\r\n                ProposaData.implPlanList &&\r\n                JSON.stringify(ProposaData.implPlanList) !== '{}'\r\n            \"\r\n          >\r\n            <div class=\"sub_title\">{{ $t(\"Proposal.Progress\") }}</div>\r\n            <div class=\"list\" v-for=\"(list, date) in ProposaData.implPlanList\" :key=\"date\">\r\n              <div class=\"date\">{{ date }}</div>\r\n              <div class=\"right\">\r\n                <div class=\"item\" v-for=\"item in list\" :key=\"item.id\">\r\n                  {{ item.content }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"exec_bottom\" v-if=\"exec\">\r\n            <div class=\"plan\">\r\n              <el-input type=\"textarea\" rows=\"6\" v-model=\"plan\"></el-input>\r\n            </div>\r\n            <div class=\"btn\">\r\n              <el-button type=\"primary\" @click=\"success\">{{ $t(\"Proposal.complete\") }}</el-button>\r\n              <el-button type=\"primary\" @click=\"submit\">{{ $t(\"Proposal.submit\") }}</el-button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <el-dialog\r\n      custom-class=\"vote-dialog\"\r\n      :title=\"$t('dialog.Number')\"\r\n      :visible=\"dialogVisible\"\r\n      width=\"85%\"\r\n      :before-close=\"close\"\r\n      :show-close=\"false\"\r\n    >\r\n      <el-input v-model=\"numPoll\" :placeholder=\"$t('dialog.less')\"></el-input>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"close\">{{ $t(\"dialog.cancel\") }}</el-button>\r\n        <el-button @click=\"getPoll\">{{ $t(\"dialog.confirm\") }}</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  GetDictList,\r\n  GetPoll,\r\n  AddImplPlan,\r\n  DetailInfo,\r\n  AddImplPlanOver\r\n} from \"@/assets/server/api.js\";\r\nimport { baseURL } from \"@/utils/utils\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      statusPoll: \"\",\r\n      itemPoll: null,\r\n      numPoll: \"\",\r\n      ProposaData: [],\r\n      statusProposaData: [],\r\n      plan: \"\",\r\n      exec: false,\r\n      poll: false,\r\n      pollNumber: \"\",\r\n      dialogVisible: false\r\n    };\r\n  },\r\n  created() {\r\n    this.getDictProposaData();\r\n    this.isPoll();\r\n  },\r\n  methods: {\r\n    close() {\r\n      this.statusPoll = 0;\r\n      this.dialogVisible = false;\r\n      this.itemPoll = null;\r\n      this.numPoll = \"\";\r\n    },\r\n    getPollStatus(status, list) {\r\n      if (list.userPollStatus === 0) {\r\n        this.statusPoll = status;\r\n        this.itemPoll = list;\r\n        if (\r\n          (this.ProposaData.status == \"1\" ||\r\n            this.ProposaData.status == \"3\" ||\r\n            this.ProposaData.status == \"4\") &&\r\n          this.poll\r\n        ) {\r\n          this.getPoll(\"pro\");\r\n        } else {\r\n          if (this.poll) {\r\n            if (this.pollNumber / 1 < 1000 && this.$route.query.type === \"vote\") {\r\n              this.$notify({\r\n                type: \"error\",\r\n                message:\r\n                  this.$t(\"index.switch\") === \"cn\"\r\n                    ? \"余额至少1000以上才可以投票哦！\"\r\n                    : \"balance of at least 1000\"\r\n              });\r\n            } else {\r\n              this.dialogVisible = true;\r\n            }\r\n          } else {\r\n            this.$notify({\r\n              type: \"error\",\r\n              message:\r\n                this.$t(\"index.switch\") === \"cn\"\r\n                  ? \"您没有投票权限！\"\r\n                  : \"not have the right to vote!\"\r\n            });\r\n          }\r\n        }\r\n      } else {\r\n        this.$notify({\r\n          type: \"error\",\r\n          message:\r\n            this.$t(\"index.switch\") === \"cn\"\r\n              ? \"您已参与本次投票!\"\r\n              : \"participated in this poll！\"\r\n        });\r\n      }\r\n    },\r\n    async isPoll() {\r\n      let loginName = localStorage.getItem(\"username\");\r\n      let id = this.$route.query.id;\r\n      const data = await DetailInfo({\r\n        loginName: loginName,\r\n        id: id\r\n      });\r\n      if (data.code == 0) {\r\n        this.ProposaData = data.data;\r\n        this.pollNumber = data.data.pollNumber;\r\n        this.poll = data.data.poll;\r\n        this.exec = data.data.exec;\r\n      }\r\n    },\r\n    async success() {\r\n      const data = await AddImplPlanOver({\r\n        id: this.$route.query.id\r\n      });\r\n      if (data.code == 0) {\r\n        this.isPoll();\r\n      }\r\n    },\r\n    async submit() {\r\n      if (this.plan == \"\")\r\n        return this.$notify({\r\n          type: \"error\",\r\n          message: this.$t(\"index.switch\") === \"cn\" ? \"请输入内容！\" : \"Enter content!\"\r\n        });\r\n      const data = await AddImplPlan({\r\n        proposalId: this.ProposaData.id,\r\n        content: this.plan,\r\n        createBy: this.ProposaData.createBy\r\n      });\r\n      if (data.code == 0) {\r\n        this.plan = \"\";\r\n        this.isPoll();\r\n      }\r\n    },\r\n    async getPoll(type = \"\") {\r\n      if (type !== \"pro\") {\r\n        if (this.itemPoll.userPollStatus != \"0\") {\r\n          return this.$notify({\r\n            type: \"warning\",\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\" ? \"已投票，请勿重复投递！\" : \"Voted, do not repeat!\"\r\n          });\r\n        }\r\n        if (this.numPoll < 1000 && this.$route.query.type === \"vote\") {\r\n          return this.$notify({\r\n            type: \"warning\",\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\"\r\n                ? \"投票数量不得小于1000\"\r\n                : \"Quantity less than 1000\"\r\n          });\r\n        }\r\n        if (this.numPoll > this.pollNumber) {\r\n          return this.$notify({\r\n            type: \"warning\",\r\n            message:\r\n              this.$t(\"index.switch\") === \"cn\" ? \"可用余额不足\" : \"Lack of balance\"\r\n          });\r\n        }\r\n      } else {\r\n        this.numPoll = 1;\r\n      }\r\n      let loginName = localStorage.getItem(\"username\");\r\n      const data = await GetPoll({\r\n        loginName: loginName,\r\n        proposalId: this.itemPoll.id,\r\n        status: this.statusPoll,\r\n        num: this.numPoll,\r\n        mark: this.itemPoll.status\r\n      });\r\n      if (data.code === 0) {\r\n        this.$notify({\r\n          type: \"success\",\r\n          message: this.$t(\"index.switch\") === \"cn\" ? \"投票成功！\" : \"success\"\r\n        });\r\n        this.isPoll();\r\n        this.close();\r\n      } else {\r\n        this.$message.error(dataList.msg);\r\n      }\r\n    },\r\n    async getDictProposaData() {\r\n      const dataProposaData = await GetDictList({ dictType: \"sys_proposal_status\" });\r\n      if (dataProposaData.code === 0) {\r\n        this.statusProposaData = dataProposaData.rows;\r\n      } else {\r\n        this.$message.error(dataProposaData.msg);\r\n      }\r\n    },\r\n    getStatus(type) {\r\n      let label = \"无状态\";\r\n      for (const key of this.statusProposaData) {\r\n        if (key.dictValue == type) {\r\n          label = key.dictLabel;\r\n          break;\r\n        }\r\n      }\r\n      return label;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.banner {\r\n  height: 660px;\r\n  background-image: url(\"../../../assets/imagesm/indba2.png\");\r\n  background-size: cover;\r\n  background-position: center center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  .placeholder {\r\n    flex: 1;\r\n  }\r\n  .details {\r\n    padding: 30px;\r\n    // padding-top: 184px;\r\n    .item {\r\n      font-size: 28px;\r\n      font-family: PingFangSC-Regular, PingFang SC;\r\n      font-weight: 400;\r\n      color: #ffffff;\r\n      margin-bottom: 18px;\r\n    }\r\n    .title {\r\n      font-size: 60px;\r\n      font-family: PingFang-SC-Heavy, PingFang-SC;\r\n      font-weight: 800;\r\n      color: #ffffff;\r\n      line-height: 84px;\r\n      margin-bottom: 40px;\r\n      max-height: 84px;\r\n      overflow: auto;\r\n    }\r\n  }\r\n  .votes {\r\n    .meddile {\r\n      height: 72px;\r\n      border-radius: 56px;\r\n      overflow: hidden;\r\n      display: flex;\r\n      .approve {\r\n        height: 72px;\r\n        line-height: 72px;\r\n        text-align: center;\r\n        background: linear-gradient(90deg, #4d71ff, #003cfb);\r\n        font-size: 26px;\r\n        font-family: PingFangSC-Medium, PingFang SC;\r\n        font-weight: 500;\r\n        color: #ffffff;\r\n      }\r\n      .c {\r\n        display: flex;\r\n        align-items: center;\r\n        span {\r\n          font-size: 76px;\r\n        }\r\n        .iconlan {\r\n          color: #003cfb;\r\n          margin-right: -14px;\r\n          margin-left: -2px;\r\n          margin-top: -2px;\r\n        }\r\n        .iconhong {\r\n          color: #ed4038;\r\n          margin-left: -14px;\r\n          margin-right: -2px;\r\n          margin-bottom: -2px;\r\n        }\r\n      }\r\n      .oppose {\r\n        height: 72px;\r\n        line-height: 72px;\r\n        text-align: center;\r\n        font-size: 26px;\r\n        font-family: PingFangSC-Medium, PingFang SC;\r\n        font-weight: 500;\r\n        color: #ffffff;\r\n        background: linear-gradient(270deg, #f78069, #ed4038);\r\n      }\r\n    }\r\n    .foot {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      margin-top: 14px;\r\n      div {\r\n        width: 164px;\r\n        height: 54px;\r\n        background: linear-gradient(90deg, #4d71ff, #003cfb);\r\n        border-radius: 56px;\r\n        font-size: 24px;\r\n        color: #ffffff;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        cursor: pointer;\r\n        img {\r\n          width: 24px;\r\n          margin: 0 6px;\r\n        }\r\n      }\r\n      .r {\r\n        background: linear-gradient(270deg, #f78069, #ed4038);\r\n      }\r\n    }\r\n  }\r\n}\r\n.content_bg {\r\n  background-image: url(\"../../../assets/imagesm/ta/bg2.png\");\r\n  background-size: 750px;\r\n}\r\n.content {\r\n  padding-bottom: 120px;\r\n  .top {\r\n    height: 128px;\r\n    padding-top: 54px;\r\n    padding-bottom: 24px;\r\n  }\r\n  .lebelTitle {\r\n    font-size: 36px;\r\n    font-family: PingFangSC-Medium, PingFang SC;\r\n    font-weight: 500;\r\n    color: #333333;\r\n    line-height: 50px;\r\n    margin-left: 30px;\r\n  }\r\n  .bg {\r\n    margin-left: 30px;\r\n    width: 97 * 2px;\r\n    height: 16px;\r\n    margin-top: -20px;\r\n    background: linear-gradient(270deg, rgba(141, 146, 255, 0), #5459ff);\r\n  }\r\n  .text {\r\n    padding: 32px;\r\n    background: #f6f6f6;\r\n    font-size: 24px;\r\n    font-family: PingFangSC-Regular, PingFang SC;\r\n    font-weight: 400;\r\n    color: #656565;\r\n    line-height: 40px;\r\n    word-break: break-all;\r\n  }\r\n  .planList {\r\n    .title_about {\r\n      font-size: 24px;\r\n      font-family: PingFangSC-Regular, PingFang SC;\r\n      font-weight: 400;\r\n      color: #656565;\r\n      line-height: 40px;\r\n      padding: 32px;\r\n    }\r\n    .details_text {\r\n      .sub_title {\r\n        font-size: 36px;\r\n        font-family: PingFangSC-Medium, PingFang SC;\r\n        font-weight: 400;\r\n        color: #333333;\r\n        line-height: 50px;\r\n        padding-left: 32px;\r\n        margin-bottom: 20px;\r\n      }\r\n      .list {\r\n        padding: 32px;\r\n        background: #f6f6f6;\r\n        font-size: 24px;\r\n        font-family: PingFangSC-Regular, PingFang SC;\r\n        font-weight: 400;\r\n        color: #656565;\r\n        line-height: 40px;\r\n        margin-bottom: 28px;\r\n        display: flex;\r\n        justify-content: flex-start;\r\n\r\n        .date {\r\n          font-size: 24px;\r\n          font-family: PingFangSC-Medium, PingFang SC;\r\n          font-weight: 500;\r\n          color: #666666;\r\n          line-height: 34px;\r\n          margin-bottom: 18px;\r\n          width: 150px;\r\n        }\r\n        .right {\r\n          width: calc(100% - 150px);\r\n        }\r\n        .item {\r\n          margin-bottom: 28px;\r\n        }\r\n      }\r\n    }\r\n    .exec_bottom {\r\n      margin: 32px;\r\n      .plan {\r\n        margin-bottom: 20px;\r\n      }\r\n      .btn {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        .el-button {\r\n          width: 260px;\r\n          height: 72px;\r\n          background: #5432f4;\r\n          border-radius: 8px;\r\n          border: none;\r\n          font-size: 28px !important;\r\n          font-family: PingFangSC-Regular, PingFang SC;\r\n          font-weight: 400;\r\n          color: #ffffff;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n<style lang=\"less\">\r\n.ProposaDetails {\r\n  .el-dialog {\r\n    background: #ffffff;\r\n    border-radius: 24px;\r\n    padding: 0 40px;\r\n    .el-dialog__title {\r\n      padding: 0;\r\n      margin: 0;\r\n      font-size: 40px;\r\n      font-family: PingFangSC-Medium, PingFang SC;\r\n      font-weight: 500;\r\n      color: #000000;\r\n      line-height: 56px;\r\n    }\r\n    .el-dialog__header {\r\n      padding: 0;\r\n      padding-top: 30px;\r\n      margin-bottom: 56px;\r\n    }\r\n    .el-dialog__body {\r\n      padding: 0;\r\n    }\r\n    .el-input__inner {\r\n      height: 74px;\r\n      background: #ffffff;\r\n      border-radius: 4px;\r\n      border: 2px solid #999999;\r\n      font-size: 26px;\r\n      font-family: PingFangSC-Regular, PingFang SC;\r\n      font-weight: 400;\r\n    }\r\n    .dialog-footer {\r\n      display: flex;\r\n      justify-content: space-around;\r\n      margin-top: 64px;\r\n      margin-bottom: 60px;\r\n      .el-button {\r\n        width: 164px;\r\n        height: 74px;\r\n        border-radius: 8px;\r\n        font-size: 28px;\r\n        font-family: PingFangSC-Regular, PingFang SC;\r\n        font-weight: 400;\r\n        border: none;\r\n      }\r\n      .el-button:nth-child(1) {\r\n        background: #ececec;\r\n        color: #9f9f9f;\r\n      }\r\n      .el-button:nth-child(2) {\r\n        background: #5432f4;\r\n        color: #ffffff;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}