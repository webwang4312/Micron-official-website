{"remainingRequest":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\src\\views\\pc\\Proposal.vue?vue&type=style&index=1&id=947406f8&lang=less&scoped=true&","dependencies":[{"path":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\src\\views\\pc\\Proposal.vue","mtime":1621380390000},{"path":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\weimi\\Micron-official-website\\微米官网\\uenc\\uenc\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.Proposal {\n  .search {\n    height: 900px;\n    background-image: url(\"../../assets/images/index/Developersbg.png\");\n    background-size: cover;\n    background-position: center center;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .btn {\n    width: 200px;\n    height: 78px;\n    border: 2px solid #ffffff;\n    border-radius: 10px;\n    font-size: 32px;\n    text-align: center;\n    color: #ffffff;\n    line-height: 78px;\n    display: inline-block;\n    margin-right: 20px;\n    cursor: pointer;\n  }\n  .content {\n    background-image: url(\"../../assets/images/index/votebg.png\");\n    background-size: cover;\n    background-position: center center;\n    overflow: hidden;\n    padding-top: 96px;\n  }\n  .details {\n    width: 1400px;\n    cursor: pointer;\n    margin: 20px auto;\n\n    border-radius: 20px;\n    color: #000;\n    .head {\n      display: flex;\n      align-items: center;\n      .num {\n        width: 80px;\n        height: 80px;\n        line-height: 80px;\n        text-align: center;\n        background-color: #5459ff;\n        color: #fff;\n        font-size: 32px;\n        font-weight: bold;\n        border-radius: 6px;\n      }\n      .cen {\n        flex: 1;\n        padding: 0 20px;\n        .title {\n          height: 45px;\n          font-size: 32px;\n          font-weight: 500;\n          color: #333333;\n          line-height: 45px;\n          overflow: hidden;\n          display: -webkit-box;\n          -webkit-box-orient: vertical;\n          -webkit-line-clamp: 1;\n        }\n        .date {\n          margin-top: 4px;\n          height: 33px;\n          font-size: 24px;\n          font-family: PingFangSC-Regular, PingFang SC;\n          font-weight: 400;\n          color: #666666;\n          line-height: 33px;\n        }\n      }\n      .status {\n        height: 40px;\n        font-size: 28px;\n        font-family: PingFangSC-Medium, PingFang SC;\n        font-weight: 500;\n        color: #323232;\n        line-height: 40px;\n      }\n    }\n    .bottom {\n      background: #f6f6f6;\n      padding: 12px 32px;\n      margin-top: 34px;\n      .text {\n        font-size: 24px;\n        font-family: PingFangSC-Regular, PingFang SC;\n        font-weight: 400;\n        color: #656565;\n        line-height: 40px;\n        word-break: break-all;\n        margin-bottom: 7px;\n        display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 3; overflow: hidden;\n      }\n      .people {\n        font-size: 24px;\n        font-family: PingFangSC-Regular, PingFang SC;\n        font-weight: 400;\n        color: #323232;\n        line-height: 40px;\n        text-align: right;\n      }\n    }\n  }\n  .page {\n    margin-top: 199px;\n    text-align: center;\n    padding-bottom: 124px;\n  }\n}\n",{"version":3,"sources":["Proposal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Proposal.vue","sourceRoot":"src/views/pc","sourcesContent":["<!--\n * @Author: yaoyuting\n * @Date: 2021-04-18 18:04:59\n * @LastEditors: yaoyuting\n * @LastEditTime: 2021-05-18 21:11:41\n * @Descripttion: \n-->\n<template>\n  <div class=\"Proposal\">\n    <div class=\"search\">\n      <el-form :inline=\"true\" :model=\"searchForm\" class=\"demo-form-inline\">\n        <el-form-item label=\"\">\n          <el-input\n            class=\"title_bn\"\n            v-model=\"searchForm.title\"\n            :placeholder=\"$t('Proposal.title')\"\n            style=\"width: 320px\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item label=\"\">\n          <el-select\n            class=\"status_bn\"\n            v-model=\"searchForm.status\"\n            :placeholder=\"$t('Proposal.state')\"\n            clearable\n            style=\"width: 320px\"\n          >\n            <el-option\n              class=\"statusItem\"\n              v-for=\"item in statusList\"\n              :key=\"item.dictValue\"\n              :label=\"item.dictLabel\"\n              :value=\"item.dictValue\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item>\n          <span class=\"btn\" @click=\"search\">{{ $t(\"Proposal.Search\") }}</span>\n          <span class=\"btn\" @click=\"goPublish\">+ {{ $t(\"Proposal.publish\") }}</span>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div class=\"content\" v-if=\"proposalList.length>0\">\n      <template v-for=\"list in proposalList\">\n        <div class=\"details\" @click=\"details(list.id)\" :key=\"list.id\">\n          <div class=\"head\">\n            <div class=\"num\">{{ list.id }}</div>\n            <div class=\"cen\">\n              <div class=\"title\">{{ list.title }}</div>\n              <div class=\"date\">{{ list.createTime }}</div>\n            </div>\n            <div class=\"status\">{{ $t(\"Proposal.status\") }} ：{{ getStatus(list.status) }}</div>\n          </div>\n          <div class=\"bottom\">\n            <div class=\"text\" v-html=\"list.summary\">{{ list.summary }}</div>\n            <div class=\"people\">{{ $t(\"Proposal.Proposer\") }} :{{ list.name }}</div>\n          </div>\n        </div>\n      </template>\n\n      <div class=\"page\">\n        <el-pagination\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"searchForm.pageNo\"\n          :page-sizes=\"[5, 10, 15, 20]\"\n          :page-size='searchForm.pageSize'\n          layout=\"total, prev, pager, next, jumper\"\n          :total=\"total\"\n          background\n        >\n        </el-pagination>\n      </div>\n    </div>\n    <div class=\"nodata\" v-else>\n      {{ $t(\"index.switch\") === \"cn\" ? \"暂无数据\" : \"Empty data\" }}\n    </div>\n  </div>\n</template>\n\n<script>\nimport { GetProposalList, GetDictList, CheckUsersStatus } from \"@/assets/server/api.js\";\nexport default {\n  data() {\n    return {\n      searchForm: {\n        title: \"\",\n        status: \"\",\n        pageNo: 1,\n        pageSize: 10\n      },\n      statusList: [],\n      currentPage: 1,\n      proposalList: [],\n      total: 0\n    };\n  },\n  mounted() {\n    this.getProposalList();\n    this.getDictList();\n  },\n  methods: {\n    async goPublish() {\n      let loginName = localStorage.getItem(\"username\");\n      if (loginName) {\n        const data = await CheckUsersStatus(loginName);\n        if (data.code === 0) {\n          if (data.data === \"0\") {\n            this.$router.push({\n              path: \"/pc/community/Proposal/Add\"\n            });\n          } else {\n            this.$message.error(data.msg);\n          }\n        } else {\n          this.$message.error(data.msg);\n        }\n      } else {\n        this.$message.error(this.$t(\"index.switch\") === \"cn\" ?\"请先登录您的账号信息\":'Please log in ' );\n      }\n    },\n    async getProposalList() {\n      const dataList = await GetProposalList(this.searchForm);\n      if (dataList.code === 0) {\n        if (!dataList.rows.length) this.$message.warning(this.$t(\"index.switch\") === \"cn\" ?\"暂无内容\":'No content' );\n        dataList.rows.forEach(item => {\n          item.summary = item.summary.replace(/\\n/g, \"<br>\");\n        });\n        this.proposalList = dataList.rows;\n        this.total = dataList.total;\n      } else {\n        this.$message.error(dataList.msg);\n      }\n    },\n    async getDictList() {\n      const dataList = await GetDictList({ dictType: \"sys_proposal_status\" });\n      if (dataList.code === 0) {\n        this.statusList = dataList.rows;\n      } else {\n        this.$message.error(dataList.msg);\n      }\n    },\n    search() {\n      this.getProposalList();\n    },\n    getStatus(type) {\n      let label = \"无状态\";\n      for (const key of this.statusList) {\n        if (key.dictValue == type) {\n          label = key.dictLabel;\n          break;\n        }\n      }\n      return label;\n    },\n    details(id) {\n      this.$router.push({\n        path: \"/pc/community/Proposal/Details\",\n        query: { id: id, type: \"Proposal\" }\n      });\n    },\n    handleSizeChange(val) {\n      this.searchForm.pageSize = val;\n      this.getProposalList();\n    },\n    handleCurrentChange(val) {\n      this.searchForm.pageNo = val;\n      this.getProposalList();\n    }\n  }\n};\n</script>\n<style lang=\"less\">\n.statusItem.el-select-dropdown__item {\n  height: 48px;\n  line-height: 48px;\n  font-size: 22px;\n}\n.Proposal {\n  .nodata {\n    text-align: center;\n    font-size: 40px;\n    margin: 100px 0;\n  }\n  .title_bn {\n    width: 670px !important;\n    height: 78px;\n    input {\n      height: 78px;\n      font-size: 32px;\n    }\n    input::placeholder {\n      font-size: 32px;\n      color: #9a9a9a;\n      height: 78px;\n      line-height: 78px;\n    }\n  }\n\n  .status_bn {\n    width: 270px !important;\n    height: 78px;\n    input {\n      height: 78px;\n      font-size: 32px;\n    }\n    i {\n      font-size: 24px !important;\n    }\n    input::placeholder {\n      font-size: 32px;\n      color: #9a9a9a;\n      height: 78px;\n      line-height: 78px;\n    }\n  }\n}\n</style>\n<style lang=\"less\" scoped>\n.Proposal {\n  .search {\n    height: 900px;\n    background-image: url(\"../../assets/images/index/Developersbg.png\");\n    background-size: cover;\n    background-position: center center;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .btn {\n    width: 200px;\n    height: 78px;\n    border: 2px solid #ffffff;\n    border-radius: 10px;\n    font-size: 32px;\n    text-align: center;\n    color: #ffffff;\n    line-height: 78px;\n    display: inline-block;\n    margin-right: 20px;\n    cursor: pointer;\n  }\n  .content {\n    background-image: url(\"../../assets/images/index/votebg.png\");\n    background-size: cover;\n    background-position: center center;\n    overflow: hidden;\n    padding-top: 96px;\n  }\n  .details {\n    width: 1400px;\n    cursor: pointer;\n    margin: 20px auto;\n\n    border-radius: 20px;\n    color: #000;\n    .head {\n      display: flex;\n      align-items: center;\n      .num {\n        width: 80px;\n        height: 80px;\n        line-height: 80px;\n        text-align: center;\n        background-color: #5459ff;\n        color: #fff;\n        font-size: 32px;\n        font-weight: bold;\n        border-radius: 6px;\n      }\n      .cen {\n        flex: 1;\n        padding: 0 20px;\n        .title {\n          height: 45px;\n          font-size: 32px;\n          font-weight: 500;\n          color: #333333;\n          line-height: 45px;\n          overflow: hidden;\n          display: -webkit-box;\n          -webkit-box-orient: vertical;\n          -webkit-line-clamp: 1;\n        }\n        .date {\n          margin-top: 4px;\n          height: 33px;\n          font-size: 24px;\n          font-family: PingFangSC-Regular, PingFang SC;\n          font-weight: 400;\n          color: #666666;\n          line-height: 33px;\n        }\n      }\n      .status {\n        height: 40px;\n        font-size: 28px;\n        font-family: PingFangSC-Medium, PingFang SC;\n        font-weight: 500;\n        color: #323232;\n        line-height: 40px;\n      }\n    }\n    .bottom {\n      background: #f6f6f6;\n      padding: 12px 32px;\n      margin-top: 34px;\n      .text {\n        font-size: 24px;\n        font-family: PingFangSC-Regular, PingFang SC;\n        font-weight: 400;\n        color: #656565;\n        line-height: 40px;\n        word-break: break-all;\n        margin-bottom: 7px;\n        display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 3; overflow: hidden;\n      }\n      .people {\n        font-size: 24px;\n        font-family: PingFangSC-Regular, PingFang SC;\n        font-weight: 400;\n        color: #323232;\n        line-height: 40px;\n        text-align: right;\n      }\n    }\n  }\n  .page {\n    margin-top: 199px;\n    text-align: center;\n    padding-bottom: 124px;\n  }\n}\n</style>\n"]}]}